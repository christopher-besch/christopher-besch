/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/bowser/es5.js":
/*!************************************!*\
  !*** ./node_modules/bowser/es5.js ***!
  \************************************/
/***/ (function(module) {

eval("!function(e,t){ true?module.exports=t():0}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=i,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"};t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"};t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"};t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"};t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:\"BROWSER_MAP\",get:function(){return s.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return s.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return s.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];\"string\"==typeof a?(i[t]=a,s+=1):\"object\"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\\/(\\d+(\\.?_?\\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(e){var t={name:\"Opera Touch\"},r=i.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:\"Miui\"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||i.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:s.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm93c2VyL2VzNS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL21hbmltX2VkaXRvci8uL25vZGVfbW9kdWxlcy9ib3dzZXIvZXM1LmpzPzMzN2YiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5ib3dzZXI9dCgpOmUuYm93c2VyPXQoKX0odGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIGk9dFtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsciksaS5sPSEwLGkuZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5kPWZ1bmN0aW9uKGUsdCxuKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxyLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1yKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgaSBpbiBlKXIuZChuLGksZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxpKSk7cmV0dXJuIG59LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsXCJhXCIsdCksdH0sci5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxyLnA9XCJcIixyKHIucz05MCl9KHsxNzpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49cigxOCksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZ2V0Rmlyc3RNYXRjaD1mdW5jdGlvbihlLHQpe3ZhciByPXQubWF0Y2goZSk7cmV0dXJuIHImJnIubGVuZ3RoPjAmJnJbMV18fFwiXCJ9LGUuZ2V0U2Vjb25kTWF0Y2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm1hdGNoKGUpO3JldHVybiByJiZyLmxlbmd0aD4xJiZyWzJdfHxcIlwifSxlLm1hdGNoQW5kUmV0dXJuQ29uc3Q9ZnVuY3Rpb24oZSx0LHIpe2lmKGUudGVzdCh0KSlyZXR1cm4gcn0sZS5nZXRXaW5kb3dzVmVyc2lvbk5hbWU9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2VcIk5UXCI6cmV0dXJuXCJOVFwiO2Nhc2VcIlhQXCI6cmV0dXJuXCJYUFwiO2Nhc2VcIk5UIDUuMFwiOnJldHVyblwiMjAwMFwiO2Nhc2VcIk5UIDUuMVwiOnJldHVyblwiWFBcIjtjYXNlXCJOVCA1LjJcIjpyZXR1cm5cIjIwMDNcIjtjYXNlXCJOVCA2LjBcIjpyZXR1cm5cIlZpc3RhXCI7Y2FzZVwiTlQgNi4xXCI6cmV0dXJuXCI3XCI7Y2FzZVwiTlQgNi4yXCI6cmV0dXJuXCI4XCI7Y2FzZVwiTlQgNi4zXCI6cmV0dXJuXCI4LjFcIjtjYXNlXCJOVCAxMC4wXCI6cmV0dXJuXCIxMFwiO2RlZmF1bHQ6cmV0dXJufX0sZS5nZXRNYWNPU1ZlcnNpb25OYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCIuXCIpLnNwbGljZSgwLDIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfHwwfSkpO2lmKHQucHVzaCgwKSwxMD09PXRbMF0pc3dpdGNoKHRbMV0pe2Nhc2UgNTpyZXR1cm5cIkxlb3BhcmRcIjtjYXNlIDY6cmV0dXJuXCJTbm93IExlb3BhcmRcIjtjYXNlIDc6cmV0dXJuXCJMaW9uXCI7Y2FzZSA4OnJldHVyblwiTW91bnRhaW4gTGlvblwiO2Nhc2UgOTpyZXR1cm5cIk1hdmVyaWNrc1wiO2Nhc2UgMTA6cmV0dXJuXCJZb3NlbWl0ZVwiO2Nhc2UgMTE6cmV0dXJuXCJFbCBDYXBpdGFuXCI7Y2FzZSAxMjpyZXR1cm5cIlNpZXJyYVwiO2Nhc2UgMTM6cmV0dXJuXCJIaWdoIFNpZXJyYVwiO2Nhc2UgMTQ6cmV0dXJuXCJNb2phdmVcIjtjYXNlIDE1OnJldHVyblwiQ2F0YWxpbmFcIjtkZWZhdWx0OnJldHVybn19LGUuZ2V0QW5kcm9pZFZlcnNpb25OYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCIuXCIpLnNwbGljZSgwLDIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfHwwfSkpO2lmKHQucHVzaCgwKSwhKDE9PT10WzBdJiZ0WzFdPDUpKXJldHVybiAxPT09dFswXSYmdFsxXTw2P1wiQ3VwY2FrZVwiOjE9PT10WzBdJiZ0WzFdPj02P1wiRG9udXRcIjoyPT09dFswXSYmdFsxXTwyP1wiRWNsYWlyXCI6Mj09PXRbMF0mJjI9PT10WzFdP1wiRnJveW9cIjoyPT09dFswXSYmdFsxXT4yP1wiR2luZ2VyYnJlYWRcIjozPT09dFswXT9cIkhvbmV5Y29tYlwiOjQ9PT10WzBdJiZ0WzFdPDE/XCJJY2UgQ3JlYW0gU2FuZHdpY2hcIjo0PT09dFswXSYmdFsxXTw0P1wiSmVsbHkgQmVhblwiOjQ9PT10WzBdJiZ0WzFdPj00P1wiS2l0S2F0XCI6NT09PXRbMF0/XCJMb2xsaXBvcFwiOjY9PT10WzBdP1wiTWFyc2htYWxsb3dcIjo3PT09dFswXT9cIk5vdWdhdFwiOjg9PT10WzBdP1wiT3Jlb1wiOjk9PT10WzBdP1wiUGllXCI6dm9pZCAwfSxlLmdldFZlcnNpb25QcmVjaXNpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCIuXCIpLmxlbmd0aH0sZS5jb21wYXJlVmVyc2lvbnM9ZnVuY3Rpb24odCxyLG4pe3ZvaWQgMD09PW4mJihuPSExKTt2YXIgaT1lLmdldFZlcnNpb25QcmVjaXNpb24odCkscz1lLmdldFZlcnNpb25QcmVjaXNpb24ociksYT1NYXRoLm1heChpLHMpLG89MCx1PWUubWFwKFt0LHJdLChmdW5jdGlvbih0KXt2YXIgcj1hLWUuZ2V0VmVyc2lvblByZWNpc2lvbih0KSxuPXQrbmV3IEFycmF5KHIrMSkuam9pbihcIi4wXCIpO3JldHVybiBlLm1hcChuLnNwbGl0KFwiLlwiKSwoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBBcnJheSgyMC1lLmxlbmd0aCkuam9pbihcIjBcIikrZX0pKS5yZXZlcnNlKCl9KSk7Zm9yKG4mJihvPWEtTWF0aC5taW4oaSxzKSksYS09MTthPj1vOyl7aWYodVswXVthXT51WzFdW2FdKXJldHVybiAxO2lmKHVbMF1bYV09PT11WzFdW2FdKXtpZihhPT09bylyZXR1cm4gMDthLT0xfWVsc2UgaWYodVswXVthXTx1WzFdW2FdKXJldHVybi0xfX0sZS5tYXA9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPVtdO2lmKEFycmF5LnByb3RvdHlwZS5tYXApcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlLHQpO2ZvcihyPTA7cjxlLmxlbmd0aDtyKz0xKW4ucHVzaCh0KGVbcl0pKTtyZXR1cm4gbn0sZS5maW5kPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbjtpZihBcnJheS5wcm90b3R5cGUuZmluZClyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbmQuY2FsbChlLHQpO2ZvcihyPTAsbj1lLmxlbmd0aDtyPG47cis9MSl7dmFyIGk9ZVtyXTtpZih0KGkscikpcmV0dXJuIGl9fSxlLmFzc2lnbj1mdW5jdGlvbihlKXtmb3IodmFyIHQscixuPWUsaT1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KGk+MT9pLTE6MCksYT0xO2E8aTthKyspc1thLTFdPWFyZ3VtZW50c1thXTtpZihPYmplY3QuYXNzaWduKXJldHVybiBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCxbZV0uY29uY2F0KHMpKTt2YXIgbz1mdW5jdGlvbigpe3ZhciBlPXNbdF07XCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdPWVbdF19KSl9O2Zvcih0PTAscj1zLmxlbmd0aDt0PHI7dCs9MSlvKCk7cmV0dXJuIGV9LGUuZ2V0QnJvd3NlckFsaWFzPWZ1bmN0aW9uKGUpe3JldHVybiBuLkJST1dTRVJfQUxJQVNFU19NQVBbZV19LGUuZ2V0QnJvd3NlclR5cGVCeUFsaWFzPWZ1bmN0aW9uKGUpe3JldHVybiBuLkJST1dTRVJfTUFQW2VdfHxcIlwifSxlfSgpO3QuZGVmYXVsdD1pLGUuZXhwb3J0cz10LmRlZmF1bHR9LDE4OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5FTkdJTkVfTUFQPXQuT1NfTUFQPXQuUExBVEZPUk1TX01BUD10LkJST1dTRVJfTUFQPXQuQlJPV1NFUl9BTElBU0VTX01BUD12b2lkIDA7dC5CUk9XU0VSX0FMSUFTRVNfTUFQPXtcIkFtYXpvbiBTaWxrXCI6XCJhbWF6b25fc2lsa1wiLFwiQW5kcm9pZCBCcm93c2VyXCI6XCJhbmRyb2lkXCIsQmFkYTpcImJhZGFcIixCbGFja0JlcnJ5OlwiYmxhY2tiZXJyeVwiLENocm9tZTpcImNocm9tZVwiLENocm9taXVtOlwiY2hyb21pdW1cIixFbGVjdHJvbjpcImVsZWN0cm9uXCIsRXBpcGhhbnk6XCJlcGlwaGFueVwiLEZpcmVmb3g6XCJmaXJlZm94XCIsRm9jdXM6XCJmb2N1c1wiLEdlbmVyaWM6XCJnZW5lcmljXCIsXCJHb29nbGUgU2VhcmNoXCI6XCJnb29nbGVfc2VhcmNoXCIsR29vZ2xlYm90OlwiZ29vZ2xlYm90XCIsXCJJbnRlcm5ldCBFeHBsb3JlclwiOlwiaWVcIixcIkstTWVsZW9uXCI6XCJrX21lbGVvblwiLE1heHRob246XCJtYXh0aG9uXCIsXCJNaWNyb3NvZnQgRWRnZVwiOlwiZWRnZVwiLFwiTVogQnJvd3NlclwiOlwibXpcIixcIk5BVkVSIFdoYWxlIEJyb3dzZXJcIjpcIm5hdmVyXCIsT3BlcmE6XCJvcGVyYVwiLFwiT3BlcmEgQ29hc3RcIjpcIm9wZXJhX2NvYXN0XCIsUGhhbnRvbUpTOlwicGhhbnRvbWpzXCIsUHVmZmluOlwicHVmZmluXCIsUXVwWmlsbGE6XCJxdXB6aWxsYVwiLFFROlwicXFcIixRUUxpdGU6XCJxcWxpdGVcIixTYWZhcmk6XCJzYWZhcmlcIixTYWlsZmlzaDpcInNhaWxmaXNoXCIsXCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCI6XCJzYW1zdW5nX2ludGVybmV0XCIsU2VhTW9ua2V5Olwic2VhbW9ua2V5XCIsU2xlaXBuaXI6XCJzbGVpcG5pclwiLFN3aW5nOlwic3dpbmdcIixUaXplbjpcInRpemVuXCIsXCJVQyBCcm93c2VyXCI6XCJ1Y1wiLFZpdmFsZGk6XCJ2aXZhbGRpXCIsXCJXZWJPUyBCcm93c2VyXCI6XCJ3ZWJvc1wiLFdlQ2hhdDpcIndlY2hhdFwiLFwiWWFuZGV4IEJyb3dzZXJcIjpcInlhbmRleFwiLFJva3U6XCJyb2t1XCJ9O3QuQlJPV1NFUl9NQVA9e2FtYXpvbl9zaWxrOlwiQW1hem9uIFNpbGtcIixhbmRyb2lkOlwiQW5kcm9pZCBCcm93c2VyXCIsYmFkYTpcIkJhZGFcIixibGFja2JlcnJ5OlwiQmxhY2tCZXJyeVwiLGNocm9tZTpcIkNocm9tZVwiLGNocm9taXVtOlwiQ2hyb21pdW1cIixlbGVjdHJvbjpcIkVsZWN0cm9uXCIsZXBpcGhhbnk6XCJFcGlwaGFueVwiLGZpcmVmb3g6XCJGaXJlZm94XCIsZm9jdXM6XCJGb2N1c1wiLGdlbmVyaWM6XCJHZW5lcmljXCIsZ29vZ2xlYm90OlwiR29vZ2xlYm90XCIsZ29vZ2xlX3NlYXJjaDpcIkdvb2dsZSBTZWFyY2hcIixpZTpcIkludGVybmV0IEV4cGxvcmVyXCIsa19tZWxlb246XCJLLU1lbGVvblwiLG1heHRob246XCJNYXh0aG9uXCIsZWRnZTpcIk1pY3Jvc29mdCBFZGdlXCIsbXo6XCJNWiBCcm93c2VyXCIsbmF2ZXI6XCJOQVZFUiBXaGFsZSBCcm93c2VyXCIsb3BlcmE6XCJPcGVyYVwiLG9wZXJhX2NvYXN0OlwiT3BlcmEgQ29hc3RcIixwaGFudG9tanM6XCJQaGFudG9tSlNcIixwdWZmaW46XCJQdWZmaW5cIixxdXB6aWxsYTpcIlF1cFppbGxhXCIscXE6XCJRUSBCcm93c2VyXCIscXFsaXRlOlwiUVEgQnJvd3NlciBMaXRlXCIsc2FmYXJpOlwiU2FmYXJpXCIsc2FpbGZpc2g6XCJTYWlsZmlzaFwiLHNhbXN1bmdfaW50ZXJuZXQ6XCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCIsc2VhbW9ua2V5OlwiU2VhTW9ua2V5XCIsc2xlaXBuaXI6XCJTbGVpcG5pclwiLHN3aW5nOlwiU3dpbmdcIix0aXplbjpcIlRpemVuXCIsdWM6XCJVQyBCcm93c2VyXCIsdml2YWxkaTpcIlZpdmFsZGlcIix3ZWJvczpcIldlYk9TIEJyb3dzZXJcIix3ZWNoYXQ6XCJXZUNoYXRcIix5YW5kZXg6XCJZYW5kZXggQnJvd3NlclwifTt0LlBMQVRGT1JNU19NQVA9e3RhYmxldDpcInRhYmxldFwiLG1vYmlsZTpcIm1vYmlsZVwiLGRlc2t0b3A6XCJkZXNrdG9wXCIsdHY6XCJ0dlwifTt0Lk9TX01BUD17V2luZG93c1Bob25lOlwiV2luZG93cyBQaG9uZVwiLFdpbmRvd3M6XCJXaW5kb3dzXCIsTWFjT1M6XCJtYWNPU1wiLGlPUzpcImlPU1wiLEFuZHJvaWQ6XCJBbmRyb2lkXCIsV2ViT1M6XCJXZWJPU1wiLEJsYWNrQmVycnk6XCJCbGFja0JlcnJ5XCIsQmFkYTpcIkJhZGFcIixUaXplbjpcIlRpemVuXCIsTGludXg6XCJMaW51eFwiLENocm9tZU9TOlwiQ2hyb21lIE9TXCIsUGxheVN0YXRpb240OlwiUGxheVN0YXRpb24gNFwiLFJva3U6XCJSb2t1XCJ9O3QuRU5HSU5FX01BUD17RWRnZUhUTUw6XCJFZGdlSFRNTFwiLEJsaW5rOlwiQmxpbmtcIixUcmlkZW50OlwiVHJpZGVudFwiLFByZXN0bzpcIlByZXN0b1wiLEdlY2tvOlwiR2Vja29cIixXZWJLaXQ6XCJXZWJLaXRcIn19LDkwOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgbixpPShuPXIoOTEpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn0scz1yKDE4KTtmdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX12YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9dmFyIHQscixuO3JldHVybiBlLmdldFBhcnNlcj1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PSExKSxcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJVc2VyQWdlbnQgc2hvdWxkIGJlIGEgc3RyaW5nXCIpO3JldHVybiBuZXcgaS5kZWZhdWx0KGUsdCl9LGUucGFyc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZSkuZ2V0UmVzdWx0KCl9LHQ9ZSxuPVt7a2V5OlwiQlJPV1NFUl9NQVBcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5CUk9XU0VSX01BUH19LHtrZXk6XCJFTkdJTkVfTUFQXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuRU5HSU5FX01BUH19LHtrZXk6XCJPU19NQVBcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5PU19NQVB9fSx7a2V5OlwiUExBVEZPUk1TX01BUFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlBMQVRGT1JNU19NQVB9fV0sKHI9bnVsbCkmJmEodC5wcm90b3R5cGUsciksbiYmYSh0LG4pLGV9KCk7dC5kZWZhdWx0PW8sZS5leHBvcnRzPXQuZGVmYXVsdH0sOTE6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPXUocig5MikpLGk9dShyKDkzKSkscz11KHIoOTQpKSxhPXUocig5NSkpLG89dShyKDE3KSk7ZnVuY3Rpb24gdShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9ITEpLG51bGw9PWV8fFwiXCI9PT1lKXRocm93IG5ldyBFcnJvcihcIlVzZXJBZ2VudCBwYXJhbWV0ZXIgY2FuJ3QgYmUgZW1wdHlcIik7dGhpcy5fdWE9ZSx0aGlzLnBhcnNlZFJlc3VsdD17fSwhMCE9PXQmJnRoaXMucGFyc2UoKX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5nZXRVQT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91YX0sdC50ZXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnRlc3QodGhpcy5fdWEpfSx0LnBhcnNlQnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcj17fTt2YXIgdD1vLmRlZmF1bHQuZmluZChuLmRlZmF1bHQsKGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudGVzdClyZXR1cm4gdC50ZXN0KGUpO2lmKHQudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiB0LnRlc3Quc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIGUudGVzdCh0KX0pKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIHQmJih0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyPXQuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcn0sdC5nZXRCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXI/dGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcjp0aGlzLnBhcnNlQnJvd3NlcigpfSx0LmdldEJyb3dzZXJOYW1lPWZ1bmN0aW9uKGUpe3JldHVybiBlP1N0cmluZyh0aGlzLmdldEJyb3dzZXIoKS5uYW1lKS50b0xvd2VyQ2FzZSgpfHxcIlwiOnRoaXMuZ2V0QnJvd3NlcigpLm5hbWV8fFwiXCJ9LHQuZ2V0QnJvd3NlclZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCcm93c2VyKCkudmVyc2lvbn0sdC5nZXRPUz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5vcz90aGlzLnBhcnNlZFJlc3VsdC5vczp0aGlzLnBhcnNlT1MoKX0sdC5wYXJzZU9TPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBhcnNlZFJlc3VsdC5vcz17fTt2YXIgdD1vLmRlZmF1bHQuZmluZChpLmRlZmF1bHQsKGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudGVzdClyZXR1cm4gdC50ZXN0KGUpO2lmKHQudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiB0LnRlc3Quc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIGUudGVzdCh0KX0pKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIHQmJih0aGlzLnBhcnNlZFJlc3VsdC5vcz10LmRlc2NyaWJlKHRoaXMuZ2V0VUEoKSkpLHRoaXMucGFyc2VkUmVzdWx0Lm9zfSx0LmdldE9TTmFtZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldE9TKCkubmFtZTtyZXR1cm4gZT9TdHJpbmcodCkudG9Mb3dlckNhc2UoKXx8XCJcIjp0fHxcIlwifSx0LmdldE9TVmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9TKCkudmVyc2lvbn0sdC5nZXRQbGF0Zm9ybT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybT90aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybTp0aGlzLnBhcnNlUGxhdGZvcm0oKX0sdC5nZXRQbGF0Zm9ybVR5cGU9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITEpO3ZhciB0PXRoaXMuZ2V0UGxhdGZvcm0oKS50eXBlO3JldHVybiBlP1N0cmluZyh0KS50b0xvd2VyQ2FzZSgpfHxcIlwiOnR8fFwiXCJ9LHQucGFyc2VQbGF0Zm9ybT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm09e307dmFyIHQ9by5kZWZhdWx0LmZpbmQocy5kZWZhdWx0LChmdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRlc3QpcmV0dXJuIHQudGVzdChlKTtpZih0LnRlc3QgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gdC50ZXN0LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRlc3QodCl9KSk7dGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkXCIpfSkpO3JldHVybiB0JiYodGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm09dC5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybX0sdC5nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lP3RoaXMucGFyc2VkUmVzdWx0LmVuZ2luZTp0aGlzLnBhcnNlRW5naW5lKCl9LHQuZ2V0RW5naW5lTmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gZT9TdHJpbmcodGhpcy5nZXRFbmdpbmUoKS5uYW1lKS50b0xvd2VyQ2FzZSgpfHxcIlwiOnRoaXMuZ2V0RW5naW5lKCkubmFtZXx8XCJcIn0sdC5wYXJzZUVuZ2luZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lPXt9O3ZhciB0PW8uZGVmYXVsdC5maW5kKGEuZGVmYXVsdCwoZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC50ZXN0KXJldHVybiB0LnRlc3QoZSk7aWYodC50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIHQudGVzdC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gZS50ZXN0KHQpfSkpO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZFwiKX0pKTtyZXR1cm4gdCYmKHRoaXMucGFyc2VkUmVzdWx0LmVuZ2luZT10LmRlc2NyaWJlKHRoaXMuZ2V0VUEoKSkpLHRoaXMucGFyc2VkUmVzdWx0LmVuZ2luZX0sdC5wYXJzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlQnJvd3NlcigpLHRoaXMucGFyc2VPUygpLHRoaXMucGFyc2VQbGF0Zm9ybSgpLHRoaXMucGFyc2VFbmdpbmUoKSx0aGlzfSx0LmdldFJlc3VsdD1mdW5jdGlvbigpe3JldHVybiBvLmRlZmF1bHQuYXNzaWduKHt9LHRoaXMucGFyc2VkUmVzdWx0KX0sdC5zYXRpc2ZpZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt9LG49MCxpPXt9LHM9MDtpZihPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgYT1lW3RdO1wic3RyaW5nXCI9PXR5cGVvZiBhPyhpW3RdPWEscys9MSk6XCJvYmplY3RcIj09dHlwZW9mIGEmJihyW3RdPWEsbis9MSl9KSksbj4wKXt2YXIgYT1PYmplY3Qua2V5cyhyKSx1PW8uZGVmYXVsdC5maW5kKGEsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlzT1MoZSl9KSk7aWYodSl7dmFyIGQ9dGhpcy5zYXRpc2ZpZXMoclt1XSk7aWYodm9pZCAwIT09ZClyZXR1cm4gZH12YXIgYz1vLmRlZmF1bHQuZmluZChhLChmdW5jdGlvbihlKXtyZXR1cm4gdC5pc1BsYXRmb3JtKGUpfSkpO2lmKGMpe3ZhciBmPXRoaXMuc2F0aXNmaWVzKHJbY10pO2lmKHZvaWQgMCE9PWYpcmV0dXJuIGZ9fWlmKHM+MCl7dmFyIGw9T2JqZWN0LmtleXMoaSksaD1vLmRlZmF1bHQuZmluZChsLChmdW5jdGlvbihlKXtyZXR1cm4gdC5pc0Jyb3dzZXIoZSwhMCl9KSk7aWYodm9pZCAwIT09aClyZXR1cm4gdGhpcy5jb21wYXJlVmVyc2lvbihpW2hdKX19LHQuaXNCcm93c2VyPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciByPXRoaXMuZ2V0QnJvd3Nlck5hbWUoKS50b0xvd2VyQ2FzZSgpLG49ZS50b0xvd2VyQ2FzZSgpLGk9by5kZWZhdWx0LmdldEJyb3dzZXJUeXBlQnlBbGlhcyhuKTtyZXR1cm4gdCYmaSYmKG49aS50b0xvd2VyQ2FzZSgpKSxuPT09cn0sdC5jb21wYXJlVmVyc2lvbj1mdW5jdGlvbihlKXt2YXIgdD1bMF0scj1lLG49ITEsaT10aGlzLmdldEJyb3dzZXJWZXJzaW9uKCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpcmV0dXJuXCI+XCI9PT1lWzBdfHxcIjxcIj09PWVbMF0/KHI9ZS5zdWJzdHIoMSksXCI9XCI9PT1lWzFdPyhuPSEwLHI9ZS5zdWJzdHIoMikpOnQ9W10sXCI+XCI9PT1lWzBdP3QucHVzaCgxKTp0LnB1c2goLTEpKTpcIj1cIj09PWVbMF0/cj1lLnN1YnN0cigxKTpcIn5cIj09PWVbMF0mJihuPSEwLHI9ZS5zdWJzdHIoMSkpLHQuaW5kZXhPZihvLmRlZmF1bHQuY29tcGFyZVZlcnNpb25zKGkscixuKSk+LTF9LHQuaXNPUz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRPU05hbWUoITApPT09U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCl9LHQuaXNQbGF0Zm9ybT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRQbGF0Zm9ybVR5cGUoITApPT09U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCl9LHQuaXNFbmdpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0RW5naW5lTmFtZSghMCk9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKX0sdC5pcz1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMSksdGhpcy5pc0Jyb3dzZXIoZSx0KXx8dGhpcy5pc09TKGUpfHx0aGlzLmlzUGxhdGZvcm0oZSl9LHQuc29tZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gdC5pcyhlKX0pKX0sZX0oKTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSw5MjpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIG4saT0obj1yKDE3KSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3ZhciBzPS92ZXJzaW9uXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGE9W3t0ZXN0OlsvZ29vZ2xlYm90L2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiR29vZ2xlYm90XCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL2dvb2dsZWJvdFxcLyhcXGQrKFxcLlxcZCspKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL29wZXJhL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiT3BlcmFcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86b3BlcmEpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL29wclxcL3xvcGlvcy9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIk9wZXJhXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/Om9wcnxvcGlvcylbXFxzL10oXFxTKykvaSxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9TYW1zdW5nQnJvd3Nlci9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWRcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86U2Ftc3VuZ0Jyb3dzZXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL1doYWxlL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiTkFWRVIgV2hhbGUgQnJvd3NlclwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzp3aGFsZSlbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9NWkJyb3dzZXIvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJNWiBCcm93c2VyXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/Ok1aQnJvd3NlcilbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9mb2N1cy9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIkZvY3VzXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OmZvY3VzKVtcXHMvXShcXGQrKD86XFwuXFxkKykrKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3N3aW5nL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiU3dpbmdcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86c3dpbmcpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvY29hc3QvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJPcGVyYSBDb2FzdFwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpjb2FzdClbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0Olsvb3B0XFwvXFxkKyg/Oi4/Xz9cXGQrKSsvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJPcGVyYSBUb3VjaFwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpvcHQpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3lhYnJvd3Nlci9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIllhbmRleCBCcm93c2VyXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OnlhYnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvdWNicm93c2VyL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiVUMgQnJvd3NlclwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzp1Y2Jyb3dzZXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL01heHRob258bXhpb3MvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJNYXh0aG9uXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/Ok1heHRob258bXhpb3MpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL2VwaXBoYW55L2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiRXBpcGhhbnlcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86ZXBpcGhhbnkpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3B1ZmZpbi9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIlB1ZmZpblwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSl8fGkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpwdWZmaW4pW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3NsZWlwbmlyL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiU2xlaXBuaXJcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86c2xlaXBuaXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL2stbWVsZW9uL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiSy1NZWxlb25cIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86ay1tZWxlb24pW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL21pY3JvbWVzc2VuZ2VyL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiV2VDaGF0XCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/Om1pY3JvbWVzc2VuZ2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9xcWJyb3dzZXIvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6L3FxYnJvd3NlcmxpdGUvaS50ZXN0KGUpP1wiUVEgQnJvd3NlciBMaXRlXCI6XCJRUSBCcm93c2VyXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OnFxYnJvd3NlcmxpdGV8cXFicm93c2VyKVsvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9tc2llfHRyaWRlbnQvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJJbnRlcm5ldCBFeHBsb3JlclwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzptc2llIHxydjopKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL1xcc2VkZ1xcLy9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIk1pY3Jvc29mdCBFZGdlXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL1xcc2VkZ1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9lZGcoW2VhXXxpb3MpL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiTWljcm9zb2Z0IEVkZ2VcIn0scj1pLmRlZmF1bHQuZ2V0U2Vjb25kTWF0Y2goL2VkZyhbZWFdfGlvcylcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0Olsvdml2YWxkaS9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIlZpdmFsZGlcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvdml2YWxkaVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9zZWFtb25rZXkvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJTZWFNb25rZXlcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvc2VhbW9ua2V5XFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3NhaWxmaXNoL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiU2FpbGZpc2hcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvc2FpbGZpc2hcXHM/YnJvd3NlclxcLyhcXGQrKFxcLlxcZCspPykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9zaWxrL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiQW1hem9uIFNpbGtcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvc2lsa1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9waGFudG9tL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiUGhhbnRvbUpTXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL3BoYW50b21qc1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9zbGltZXJqcy9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIlNsaW1lckpTXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL3NsaW1lcmpzXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL2JsYWNrYmVycnl8XFxiYmJcXGQrL2ksL3JpbVxcc3RhYmxldC9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIkJsYWNrQmVycnlcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvYmxhY2tiZXJyeVtcXGRdK1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy8od2VifGhwdylbbzBdcy9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIldlYk9TIEJyb3dzZXJcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvdyg/OmViKT9bbzBdc2Jyb3dzZXJcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvYmFkYS9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIkJhZGFcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvZG9sZmluXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3RpemVuL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiVGl6ZW5cIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86dGl6ZW5cXHM/KT9icm93c2VyXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL3F1cHppbGxhL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiUXVwWmlsbGFcIn0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86cXVwemlsbGEpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaChzLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpbL2ZpcmVmb3h8aWNld2Vhc2VsfGZ4aW9zL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiRmlyZWZveFwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpmaXJlZm94fGljZXdlYXNlbHxmeGlvcylbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvZWxlY3Ryb24vaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJFbGVjdHJvblwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzplbGVjdHJvbilcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvTWl1aUJyb3dzZXIvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6XCJNaXVpXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/Ok1pdWlCcm93c2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9jaHJvbWl1bS9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIkNocm9taXVtXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goLyg/OmNocm9taXVtKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9jaHJvbWV8Y3Jpb3N8Y3Jtby9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD17bmFtZTpcIkNocm9tZVwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpjaHJvbWV8Y3Jpb3N8Y3JtbylcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OlsvR1NBL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiR29vZ2xlIFNlYXJjaFwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oPzpHU0EpXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpmdW5jdGlvbihlKXt2YXIgdD0hZS50ZXN0KC9saWtlIGFuZHJvaWQvaSkscj1lLnRlc3QoL2FuZHJvaWQvaSk7cmV0dXJuIHQmJnJ9LGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiQW5kcm9pZCBCcm93c2VyXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9wbGF5c3RhdGlvbiA0L2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiUGxheVN0YXRpb24gNFwifSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKHMsZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0Olsvc2FmYXJpfGFwcGxld2Via2l0L2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PXtuYW1lOlwiU2FmYXJpXCJ9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2gocyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy8uKi9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD0tMSE9PWUuc2VhcmNoKFwiXFxcXChcIik/L14oLiopXFwvKC4qKVsgXFx0XVxcKCguKikvOi9eKC4qKVxcLyguKikgLztyZXR1cm57bmFtZTppLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCh0LGUpLHZlcnNpb246aS5kZWZhdWx0LmdldFNlY29uZE1hdGNoKHQsZSl9fX1dO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LDkzOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgbixpPShuPXIoMTcpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn0scz1yKDE4KTt2YXIgYT1be3Rlc3Q6Wy9Sb2t1XFwvRFZQL10sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL1Jva3VcXC9EVlAtKFxcZCtcXC5cXGQrKS9pLGUpO3JldHVybntuYW1lOnMuT1NfTUFQLlJva3UsdmVyc2lvbjp0fX19LHt0ZXN0Olsvd2luZG93cyBwaG9uZS9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvd2luZG93cyBwaG9uZSAoPzpvcyk/XFxzPyhcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpzLk9TX01BUC5XaW5kb3dzUGhvbmUsdmVyc2lvbjp0fX19LHt0ZXN0Olsvd2luZG93cyAvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL1dpbmRvd3MgKChOVHxYUCkoIFxcZFxcZD8uXFxkKT8pL2ksZSkscj1pLmRlZmF1bHQuZ2V0V2luZG93c1ZlcnNpb25OYW1lKHQpO3JldHVybntuYW1lOnMuT1NfTUFQLldpbmRvd3MsdmVyc2lvbjp0LHZlcnNpb25OYW1lOnJ9fX0se3Rlc3Q6Wy9NYWNpbnRvc2goLio/KSBGeGlPUyguKj8pXFwvL10sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6cy5PU19NQVAuaU9TfSxyPWkuZGVmYXVsdC5nZXRTZWNvbmRNYXRjaCgvKFZlcnNpb25cXC8pKFxcZFtcXGQuXSspLyxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy9tYWNpbnRvc2gvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL21hYyBvcyB4IChcXGQrKFxcLj9fP1xcZCspKykvaSxlKS5yZXBsYWNlKC9bX1xcc10vZyxcIi5cIikscj1pLmRlZmF1bHQuZ2V0TWFjT1NWZXJzaW9uTmFtZSh0KSxuPXtuYW1lOnMuT1NfTUFQLk1hY09TLHZlcnNpb246dH07cmV0dXJuIHImJihuLnZlcnNpb25OYW1lPXIpLG59fSx7dGVzdDpbLyhpcG9kfGlwaG9uZXxpcGFkKS9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvb3MgKFxcZCsoW19cXHNdXFxkKykqKSBsaWtlIG1hYyBvcyB4L2ksZSkucmVwbGFjZSgvW19cXHNdL2csXCIuXCIpO3JldHVybntuYW1lOnMuT1NfTUFQLmlPUyx2ZXJzaW9uOnR9fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9IWUudGVzdCgvbGlrZSBhbmRyb2lkL2kpLHI9ZS50ZXN0KC9hbmRyb2lkL2kpO3JldHVybiB0JiZyfSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvYW5kcm9pZFtcXHMvLV0oXFxkKyhcXC5cXGQrKSopL2ksZSkscj1pLmRlZmF1bHQuZ2V0QW5kcm9pZFZlcnNpb25OYW1lKHQpLG49e25hbWU6cy5PU19NQVAuQW5kcm9pZCx2ZXJzaW9uOnR9O3JldHVybiByJiYobi52ZXJzaW9uTmFtZT1yKSxufX0se3Rlc3Q6Wy8od2VifGhwdylbbzBdcy9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvKD86d2VifGhwdylbbzBdc1xcLyhcXGQrKFxcLlxcZCspKikvaSxlKSxyPXtuYW1lOnMuT1NfTUFQLldlYk9TfTtyZXR1cm4gdCYmdC5sZW5ndGgmJihyLnZlcnNpb249dCkscn19LHt0ZXN0OlsvYmxhY2tiZXJyeXxcXGJiYlxcZCsvaSwvcmltXFxzdGFibGV0L2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9yaW1cXHN0YWJsZXRcXHNvc1xccyhcXGQrKFxcLlxcZCspKikvaSxlKXx8aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL2JsYWNrYmVycnlcXGQrXFwvKFxcZCsoW19cXHNdXFxkKykqKS9pLGUpfHxpLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvXFxiYmIoXFxkKykvaSxlKTtyZXR1cm57bmFtZTpzLk9TX01BUC5CbGFja0JlcnJ5LHZlcnNpb246dH19fSx7dGVzdDpbL2JhZGEvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL2JhZGFcXC8oXFxkKyhcXC5cXGQrKSopL2ksZSk7cmV0dXJue25hbWU6cy5PU19NQVAuQmFkYSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy90aXplbi9pXSxkZXNjcmliZTpmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvdGl6ZW5bL1xcc10oXFxkKyhcXC5cXGQrKSopL2ksZSk7cmV0dXJue25hbWU6cy5PU19NQVAuVGl6ZW4sdmVyc2lvbjp0fX19LHt0ZXN0OlsvbGludXgvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpzLk9TX01BUC5MaW51eH19fSx7dGVzdDpbL0NyT1MvXSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybntuYW1lOnMuT1NfTUFQLkNocm9tZU9TfX19LHt0ZXN0OlsvUGxheVN0YXRpb24gNC9dLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9QbGF5U3RhdGlvbiA0Wy9cXHNdKFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOnMuT1NfTUFQLlBsYXlTdGF0aW9uNCx2ZXJzaW9uOnR9fX1dO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LDk0OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgbixpPShuPXIoMTcpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn0scz1yKDE4KTt2YXIgYT1be3Rlc3Q6Wy9nb29nbGVib3QvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcImJvdFwiLHZlbmRvcjpcIkdvb2dsZVwifX19LHt0ZXN0OlsvaHVhd2VpL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oY2FuLWwwMSkvaSxlKSYmXCJOb3ZhXCIscj17dHlwZTpzLlBMQVRGT1JNU19NQVAubW9iaWxlLHZlbmRvcjpcIkh1YXdlaVwifTtyZXR1cm4gdCYmKHIubW9kZWw9dCkscn19LHt0ZXN0OlsvbmV4dXNcXHMqKD86N3w4fDl8MTApLiovaV0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAudGFibGV0LHZlbmRvcjpcIk5leHVzXCJ9fX0se3Rlc3Q6Wy9pcGFkL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLnRhYmxldCx2ZW5kb3I6XCJBcHBsZVwiLG1vZGVsOlwiaVBhZFwifX19LHt0ZXN0OlsvTWFjaW50b3NoKC4qPykgRnhpT1MoLio/KVxcLy9dLGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLnRhYmxldCx2ZW5kb3I6XCJBcHBsZVwiLG1vZGVsOlwiaVBhZFwifX19LHt0ZXN0Olsva2Z0dCBidWlsZC9pXSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC50YWJsZXQsdmVuZG9yOlwiQW1hem9uXCIsbW9kZWw6XCJLaW5kbGUgRmlyZSBIRCA3XCJ9fX0se3Rlc3Q6Wy9zaWxrL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLnRhYmxldCx2ZW5kb3I6XCJBbWF6b25cIn19fSx7dGVzdDpbL3RhYmxldCg/ISBwYykvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAudGFibGV0fX19LHt0ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUudGVzdCgvaXBvZHxpcGhvbmUvaSkscj1lLnRlc3QoL2xpa2UgKGlwb2R8aXBob25lKS9pKTtyZXR1cm4gdCYmIXJ9LGRlc2NyaWJlOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC8oaXBvZHxpcGhvbmUpL2ksZSk7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLm1vYmlsZSx2ZW5kb3I6XCJBcHBsZVwiLG1vZGVsOnR9fX0se3Rlc3Q6Wy9uZXh1c1xccypbMC02XS4qL2ksL2dhbGF4eSBuZXh1cy9pXSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC5tb2JpbGUsdmVuZG9yOlwiTmV4dXNcIn19fSx7dGVzdDpbL1teLV1tb2JpL2ldLGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLm1vYmlsZX19fSx7dGVzdDpmdW5jdGlvbihlKXtyZXR1cm5cImJsYWNrYmVycnlcIj09PWUuZ2V0QnJvd3Nlck5hbWUoITApfSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC5tb2JpbGUsdmVuZG9yOlwiQmxhY2tCZXJyeVwifX19LHt0ZXN0OmZ1bmN0aW9uKGUpe3JldHVyblwiYmFkYVwiPT09ZS5nZXRCcm93c2VyTmFtZSghMCl9LGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLm1vYmlsZX19fSx7dGVzdDpmdW5jdGlvbihlKXtyZXR1cm5cIndpbmRvd3MgcGhvbmVcIj09PWUuZ2V0QnJvd3Nlck5hbWUoKX0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAubW9iaWxlLHZlbmRvcjpcIk1pY3Jvc29mdFwifX19LHt0ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PU51bWJlcihTdHJpbmcoZS5nZXRPU1ZlcnNpb24oKSkuc3BsaXQoXCIuXCIpWzBdKTtyZXR1cm5cImFuZHJvaWRcIj09PWUuZ2V0T1NOYW1lKCEwKSYmdD49M30sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAudGFibGV0fX19LHt0ZXN0OmZ1bmN0aW9uKGUpe3JldHVyblwiYW5kcm9pZFwiPT09ZS5nZXRPU05hbWUoITApfSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC5tb2JpbGV9fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJtYWNvc1wiPT09ZS5nZXRPU05hbWUoITApfSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC5kZXNrdG9wLHZlbmRvcjpcIkFwcGxlXCJ9fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJ3aW5kb3dzXCI9PT1lLmdldE9TTmFtZSghMCl9LGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5QTEFURk9STVNfTUFQLmRlc2t0b3B9fX0se3Rlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJsaW51eFwiPT09ZS5nZXRPU05hbWUoITApfSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC5kZXNrdG9wfX19LHt0ZXN0OmZ1bmN0aW9uKGUpe3JldHVyblwicGxheXN0YXRpb24gNFwiPT09ZS5nZXRPU05hbWUoITApfSxkZXNjcmliZTpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuUExBVEZPUk1TX01BUC50dn19fSx7dGVzdDpmdW5jdGlvbihlKXtyZXR1cm5cInJva3VcIj09PWUuZ2V0T1NOYW1lKCEwKX0sZGVzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLlBMQVRGT1JNU19NQVAudHZ9fX1dO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LDk1OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgbixpPShuPXIoMTcpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn0scz1yKDE4KTt2YXIgYT1be3Rlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJtaWNyb3NvZnQgZWRnZVwiPT09ZS5nZXRCcm93c2VyTmFtZSghMCl9LGRlc2NyaWJlOmZ1bmN0aW9uKGUpe2lmKC9cXHNlZGdcXC8vaS50ZXN0KGUpKXJldHVybntuYW1lOnMuRU5HSU5FX01BUC5CbGlua307dmFyIHQ9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL2VkZ2VcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJue25hbWU6cy5FTkdJTkVfTUFQLkVkZ2VIVE1MLHZlcnNpb246dH19fSx7dGVzdDpbL3RyaWRlbnQvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6cy5FTkdJTkVfTUFQLlRyaWRlbnR9LHI9aS5kZWZhdWx0LmdldEZpcnN0TWF0Y2goL3RyaWRlbnRcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIHImJih0LnZlcnNpb249ciksdH19LHt0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnRlc3QoL3ByZXN0by9pKX0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6cy5FTkdJTkVfTUFQLlByZXN0b30scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvcHJlc3RvXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fSx7dGVzdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRlc3QoL2dlY2tvL2kpLHI9ZS50ZXN0KC9saWtlIGdlY2tvL2kpO3JldHVybiB0JiYhcn0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6cy5FTkdJTkVfTUFQLkdlY2tvfSxyPWkuZGVmYXVsdC5nZXRGaXJzdE1hdGNoKC9nZWNrb1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gciYmKHQudmVyc2lvbj1yKSx0fX0se3Rlc3Q6Wy8oYXBwbGUpP3dlYmtpdFxcLzUzN1xcLjM2L2ldLGRlc2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJue25hbWU6cy5FTkdJTkVfTUFQLkJsaW5rfX19LHt0ZXN0OlsvKGFwcGxlKT93ZWJraXQvaV0sZGVzY3JpYmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e25hbWU6cy5FTkdJTkVfTUFQLldlYktpdH0scj1pLmRlZmF1bHQuZ2V0Rmlyc3RNYXRjaCgvd2Via2l0XFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiByJiYodC52ZXJzaW9uPXIpLHR9fV07dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH19KX0pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/bowser/es5.js\n");

/***/ }),

/***/ "./web_src/ts/buffer_presenter/buffer_presentation.ts":
/*!************************************************************!*\
  !*** ./web_src/ts/buffer_presenter/buffer_presentation.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BufferPresentation = void 0;\nconst presentation_1 = __webpack_require__(/*! ../presenter/presentation */ \"./web_src/ts/presenter/presentation.ts\");\nconst buffer_section_1 = __webpack_require__(/*! ./buffer_section */ \"./web_src/ts/buffer_presenter/buffer_section.ts\");\nclass BufferPresentation extends presentation_1.Presentation {\n    constructor(go_back_time, cache_batch_size, past_sections_to_buffer, future_sections_to_buffer) {\n        super(go_back_time, cache_batch_size);\n        this.past_sections_to_buffer = past_sections_to_buffer;\n        this.future_sections_to_buffer = future_sections_to_buffer;\n    }\n    // buffer past and future videos\n    update_source() {\n        // load next sections\n        for (let i = this.current_section + 1, len = Math.min(this.current_section + this.future_sections_to_buffer + 1, this.sections.length); i < len; ++i)\n            this.sections[i].load();\n        // unload previous sections\n        for (let i = 0, len = this.current_section - this.past_sections_to_buffer; i < len; ++i)\n            this.sections[i].unload();\n    }\n    create_section(section_json, slide) {\n        return new buffer_section_1.BufferSection(section_json, slide);\n    }\n}\nexports.BufferPresentation = BufferPresentation;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2J1ZmZlcl9wcmVzZW50ZXIvYnVmZmVyX3ByZXNlbnRhdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21hbmltX2VkaXRvci8uL3dlYl9zcmMvdHMvYnVmZmVyX3ByZXNlbnRlci9idWZmZXJfcHJlc2VudGF0aW9uLnRzP2Y0ZDciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ1ZmZlclByZXNlbnRhdGlvbiA9IHZvaWQgMDtcbmNvbnN0IHByZXNlbnRhdGlvbl8xID0gcmVxdWlyZShcIi4uL3ByZXNlbnRlci9wcmVzZW50YXRpb25cIik7XG5jb25zdCBidWZmZXJfc2VjdGlvbl8xID0gcmVxdWlyZShcIi4vYnVmZmVyX3NlY3Rpb25cIik7XG5jbGFzcyBCdWZmZXJQcmVzZW50YXRpb24gZXh0ZW5kcyBwcmVzZW50YXRpb25fMS5QcmVzZW50YXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGdvX2JhY2tfdGltZSwgY2FjaGVfYmF0Y2hfc2l6ZSwgcGFzdF9zZWN0aW9uc190b19idWZmZXIsIGZ1dHVyZV9zZWN0aW9uc190b19idWZmZXIpIHtcbiAgICAgICAgc3VwZXIoZ29fYmFja190aW1lLCBjYWNoZV9iYXRjaF9zaXplKTtcbiAgICAgICAgdGhpcy5wYXN0X3NlY3Rpb25zX3RvX2J1ZmZlciA9IHBhc3Rfc2VjdGlvbnNfdG9fYnVmZmVyO1xuICAgICAgICB0aGlzLmZ1dHVyZV9zZWN0aW9uc190b19idWZmZXIgPSBmdXR1cmVfc2VjdGlvbnNfdG9fYnVmZmVyO1xuICAgIH1cbiAgICAvLyBidWZmZXIgcGFzdCBhbmQgZnV0dXJlIHZpZGVvc1xuICAgIHVwZGF0ZV9zb3VyY2UoKSB7XG4gICAgICAgIC8vIGxvYWQgbmV4dCBzZWN0aW9uc1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5jdXJyZW50X3NlY3Rpb24gKyAxLCBsZW4gPSBNYXRoLm1pbih0aGlzLmN1cnJlbnRfc2VjdGlvbiArIHRoaXMuZnV0dXJlX3NlY3Rpb25zX3RvX2J1ZmZlciArIDEsIHRoaXMuc2VjdGlvbnMubGVuZ3RoKTsgaSA8IGxlbjsgKytpKVxuICAgICAgICAgICAgdGhpcy5zZWN0aW9uc1tpXS5sb2FkKCk7XG4gICAgICAgIC8vIHVubG9hZCBwcmV2aW91cyBzZWN0aW9uc1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5jdXJyZW50X3NlY3Rpb24gLSB0aGlzLnBhc3Rfc2VjdGlvbnNfdG9fYnVmZmVyOyBpIDwgbGVuOyArK2kpXG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25zW2ldLnVubG9hZCgpO1xuICAgIH1cbiAgICBjcmVhdGVfc2VjdGlvbihzZWN0aW9uX2pzb24sIHNsaWRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgYnVmZmVyX3NlY3Rpb25fMS5CdWZmZXJTZWN0aW9uKHNlY3Rpb25fanNvbiwgc2xpZGUpO1xuICAgIH1cbn1cbmV4cG9ydHMuQnVmZmVyUHJlc2VudGF0aW9uID0gQnVmZmVyUHJlc2VudGF0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./web_src/ts/buffer_presenter/buffer_presentation.ts\n");

/***/ }),

/***/ "./web_src/ts/buffer_presenter/buffer_section.ts":
/*!*******************************************************!*\
  !*** ./web_src/ts/buffer_presenter/buffer_section.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BufferSection = void 0;\nconst section_1 = __webpack_require__(/*! ../presenter/section */ \"./web_src/ts/presenter/section.ts\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"./web_src/ts/utils.ts\");\nclass BufferSection extends section_1.Section {\n    constructor(section_json, slide) {\n        super(section_json, slide);\n        this.media_source = new MediaSource();\n        this.media_buffer = null;\n        // when setting url to video element\n        this.media_source.onsourceopen = (_) => {\n            // check if MIME codec is supported\n            let mime_codec = 'video/mp4; codecs=\"avc1.64001e\"';\n            if (!(\"MediaSource\" in window) || !MediaSource.isTypeSupported(mime_codec)) {\n                console.error(`The MediaSource Extension is not supported by this browser(mime codec '${mime_codec}'). Try using a different browser.`);\n                (0, utils_1.flash)(\"This browser doesn't support the MediaSource Extension, which is needed for the video player.\", \"danger\");\n                this.media_source.endOfStream();\n                return;\n            }\n            // add source buffer to media source of this section\n            let source_buffer = this.media_source.addSourceBuffer(mime_codec);\n            // set callbacks\n            source_buffer.onupdateend = (_) => {\n                this.media_source.endOfStream();\n            };\n            source_buffer.onerror = (_) => {\n                (0, utils_1.flash)(\"There has been a problem with the MediaSource Extension. Try using the fallback loader from the settings or use a different browser.\", \"danger\");\n                console.error(\"Failed to append source buffer to source buffer:\");\n            };\n            source_buffer.onabort = (_) => {\n                (0, utils_1.flash)(\"There has been a problem with the MediaSource Extension. Try using the fallback loader from the settings or use a different browser.\", \"danger\");\n                console.error(\"Aborted source buffer\");\n            };\n            this.load(() => {\n                if (this.media_buffer == null) {\n                    source_buffer.abort();\n                    return;\n                }\n                // success\n                source_buffer.appendBuffer(this.media_buffer);\n            }, () => {\n                // failure\n                source_buffer.abort();\n            });\n        };\n    }\n    load(on_loaded = null, on_failed = null) {\n        if (this.media_buffer !== null) {\n            if (on_loaded !== null)\n                on_loaded();\n            return;\n        }\n        let request = new XMLHttpRequest();\n        request.responseType = \"arraybuffer\";\n        request.onload = () => {\n            this.media_buffer = request.response;\n            console.log(`Section '${this.name}' successfully loaded`);\n            if (on_loaded !== null)\n                on_loaded();\n        };\n        request.onerror = () => {\n            console.error(`Section '${this.name}' failed to load`);\n            if (on_failed !== null)\n                on_failed();\n        };\n        request.open(\"GET\", this.video, true);\n        request.send();\n    }\n    unload() {\n        this.media_buffer = null;\n    }\n    // load from memory\n    get_src_url() {\n        return URL.createObjectURL(this.media_source);\n    }\n}\nexports.BufferSection = BufferSection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2J1ZmZlcl9wcmVzZW50ZXIvYnVmZmVyX3NlY3Rpb24udHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFuaW1fZWRpdG9yLy4vd2ViX3NyYy90cy9idWZmZXJfcHJlc2VudGVyL2J1ZmZlcl9zZWN0aW9uLnRzP2QxNjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ1ZmZlclNlY3Rpb24gPSB2b2lkIDA7XG5jb25zdCBzZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vcHJlc2VudGVyL3NlY3Rpb25cIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuY2xhc3MgQnVmZmVyU2VjdGlvbiBleHRlbmRzIHNlY3Rpb25fMS5TZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihzZWN0aW9uX2pzb24sIHNsaWRlKSB7XG4gICAgICAgIHN1cGVyKHNlY3Rpb25fanNvbiwgc2xpZGUpO1xuICAgICAgICB0aGlzLm1lZGlhX3NvdXJjZSA9IG5ldyBNZWRpYVNvdXJjZSgpO1xuICAgICAgICB0aGlzLm1lZGlhX2J1ZmZlciA9IG51bGw7XG4gICAgICAgIC8vIHdoZW4gc2V0dGluZyB1cmwgdG8gdmlkZW8gZWxlbWVudFxuICAgICAgICB0aGlzLm1lZGlhX3NvdXJjZS5vbnNvdXJjZW9wZW4gPSAoXykgPT4ge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgTUlNRSBjb2RlYyBpcyBzdXBwb3J0ZWRcbiAgICAgICAgICAgIGxldCBtaW1lX2NvZGVjID0gJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS42NDAwMWVcIic7XG4gICAgICAgICAgICBpZiAoIShcIk1lZGlhU291cmNlXCIgaW4gd2luZG93KSB8fCAhTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKG1pbWVfY29kZWMpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVGhlIE1lZGlhU291cmNlIEV4dGVuc2lvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3NlcihtaW1lIGNvZGVjICcke21pbWVfY29kZWN9JykuIFRyeSB1c2luZyBhIGRpZmZlcmVudCBicm93c2VyLmApO1xuICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLmZsYXNoKShcIlRoaXMgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdGhlIE1lZGlhU291cmNlIEV4dGVuc2lvbiwgd2hpY2ggaXMgbmVlZGVkIGZvciB0aGUgdmlkZW8gcGxheWVyLlwiLCBcImRhbmdlclwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhX3NvdXJjZS5lbmRPZlN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCBzb3VyY2UgYnVmZmVyIHRvIG1lZGlhIHNvdXJjZSBvZiB0aGlzIHNlY3Rpb25cbiAgICAgICAgICAgIGxldCBzb3VyY2VfYnVmZmVyID0gdGhpcy5tZWRpYV9zb3VyY2UuYWRkU291cmNlQnVmZmVyKG1pbWVfY29kZWMpO1xuICAgICAgICAgICAgLy8gc2V0IGNhbGxiYWNrc1xuICAgICAgICAgICAgc291cmNlX2J1ZmZlci5vbnVwZGF0ZWVuZCA9IChfKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYV9zb3VyY2UuZW5kT2ZTdHJlYW0oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzb3VyY2VfYnVmZmVyLm9uZXJyb3IgPSAoXykgPT4ge1xuICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLmZsYXNoKShcIlRoZXJlIGhhcyBiZWVuIGEgcHJvYmxlbSB3aXRoIHRoZSBNZWRpYVNvdXJjZSBFeHRlbnNpb24uIFRyeSB1c2luZyB0aGUgZmFsbGJhY2sgbG9hZGVyIGZyb20gdGhlIHNldHRpbmdzIG9yIHVzZSBhIGRpZmZlcmVudCBicm93c2VyLlwiLCBcImRhbmdlclwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGFwcGVuZCBzb3VyY2UgYnVmZmVyIHRvIHNvdXJjZSBidWZmZXI6XCIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNvdXJjZV9idWZmZXIub25hYm9ydCA9IChfKSA9PiB7XG4gICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEuZmxhc2gpKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIE1lZGlhU291cmNlIEV4dGVuc2lvbi4gVHJ5IHVzaW5nIHRoZSBmYWxsYmFjayBsb2FkZXIgZnJvbSB0aGUgc2V0dGluZ3Mgb3IgdXNlIGEgZGlmZmVyZW50IGJyb3dzZXIuXCIsIFwiZGFuZ2VyXCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBYm9ydGVkIHNvdXJjZSBidWZmZXJcIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5sb2FkKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZWRpYV9idWZmZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VfYnVmZmVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICAgICAgICAgIHNvdXJjZV9idWZmZXIuYXBwZW5kQnVmZmVyKHRoaXMubWVkaWFfYnVmZmVyKTtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsdXJlXG4gICAgICAgICAgICAgICAgc291cmNlX2J1ZmZlci5hYm9ydCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGxvYWQob25fbG9hZGVkID0gbnVsbCwgb25fZmFpbGVkID0gbnVsbCkge1xuICAgICAgICBpZiAodGhpcy5tZWRpYV9idWZmZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChvbl9sb2FkZWQgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgb25fbG9hZGVkKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4gICAgICAgIHJlcXVlc3Qub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZWRpYV9idWZmZXIgPSByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFNlY3Rpb24gJyR7dGhpcy5uYW1lfScgc3VjY2Vzc2Z1bGx5IGxvYWRlZGApO1xuICAgICAgICAgICAgaWYgKG9uX2xvYWRlZCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICBvbl9sb2FkZWQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgU2VjdGlvbiAnJHt0aGlzLm5hbWV9JyBmYWlsZWQgdG8gbG9hZGApO1xuICAgICAgICAgICAgaWYgKG9uX2ZhaWxlZCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICBvbl9mYWlsZWQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5vcGVuKFwiR0VUXCIsIHRoaXMudmlkZW8sIHRydWUpO1xuICAgICAgICByZXF1ZXN0LnNlbmQoKTtcbiAgICB9XG4gICAgdW5sb2FkKCkge1xuICAgICAgICB0aGlzLm1lZGlhX2J1ZmZlciA9IG51bGw7XG4gICAgfVxuICAgIC8vIGxvYWQgZnJvbSBtZW1vcnlcbiAgICBnZXRfc3JjX3VybCgpIHtcbiAgICAgICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5tZWRpYV9zb3VyY2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuQnVmZmVyU2VjdGlvbiA9IEJ1ZmZlclNlY3Rpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./web_src/ts/buffer_presenter/buffer_section.ts\n");

/***/ }),

/***/ "./web_src/ts/edit_project.ts":
/*!************************************!*\
  !*** ./web_src/ts/edit_project.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./web_src/ts/utils.ts\");\nconst buffer_presentation_1 = __webpack_require__(/*! ./buffer_presenter/buffer_presentation */ \"./web_src/ts/buffer_presenter/buffer_presentation.ts\");\nconst fallback_presentation_1 = __webpack_require__(/*! ./fallback_presenter/fallback_presentation */ \"./web_src/ts/fallback_presenter/fallback_presentation.ts\");\nconst utils_2 = __webpack_require__(/*! ./utils */ \"./web_src/ts/utils.ts\");\nconst Bowser = __importStar(__webpack_require__(/*! bowser */ \"./node_modules/bowser/es5.js\"));\n// used to load and update player settings\n// NOTE: in milliseconds rather than seconds as inputted by the user\nlet GO_BACK_TIME = 1000;\nlet CACHE_BATCH_SIZE = 3;\nlet PAST_SECTIONS_TO_BUFFER = 10;\nlet FUTURE_SECTIONS_TO_BUFFER = 20;\nlet USE_FALLBACK_LOADER = false;\nlet url_search_params = new URLSearchParams(location.search);\nfunction load_url_params() {\n    if (url_search_params.has(\"go_back_time\"))\n        GO_BACK_TIME = Number(url_search_params.get(\"go_back_time\"));\n    if (url_search_params.has(\"cache_batch_size\"))\n        CACHE_BATCH_SIZE = Number(url_search_params.get(\"cache_batch_size\"));\n    if (url_search_params.has(\"past_sections_to_buffer\"))\n        PAST_SECTIONS_TO_BUFFER = Number(url_search_params.get(\"past_sections_to_buffer\"));\n    if (url_search_params.has(\"future_sections_to_buffer\"))\n        FUTURE_SECTIONS_TO_BUFFER = Number(url_search_params.get(\"future_sections_to_buffer\"));\n    if (url_search_params.has(\"use_fallback_loader\"))\n        USE_FALLBACK_LOADER = url_search_params.get(\"use_fallback_loader\") === \"true\";\n}\n// update url parameter and reload page\nfunction update_url_params() {\n    url_search_params.set(\"go_back_time\", GO_BACK_TIME.toString());\n    url_search_params.set(\"cache_batch_size\", CACHE_BATCH_SIZE.toString());\n    url_search_params.set(\"past_sections_to_buffer\", FUTURE_SECTIONS_TO_BUFFER.toString());\n    url_search_params.set(\"future_sections_to_buffer\", PAST_SECTIONS_TO_BUFFER.toString());\n    url_search_params.set(\"use_fallback_loader\", USE_FALLBACK_LOADER.toString());\n    window.history.replaceState({}, \"\", `${location.pathname}?${url_search_params.toString()}`);\n    location.reload();\n}\n// remove url parameter and reload page\nfunction discard_url_params() {\n    window.history.replaceState({}, \"\", `${location.pathname}`);\n    location.reload();\n}\nfunction create_presentation() {\n    if (USE_FALLBACK_LOADER) {\n        console.log(`Using FallbackPresentation with a cache batch size of ${CACHE_BATCH_SIZE}.`);\n        return new fallback_presentation_1.FallbackPresentation(GO_BACK_TIME, CACHE_BATCH_SIZE);\n    }\n    else {\n        console.log(`Using BufferPresentation with ${FUTURE_SECTIONS_TO_BUFFER} sections to auto load, ${PAST_SECTIONS_TO_BUFFER} sections to keep and a cache batch size of ${CACHE_BATCH_SIZE}.`);\n        return new buffer_presentation_1.BufferPresentation(GO_BACK_TIME, CACHE_BATCH_SIZE, FUTURE_SECTIONS_TO_BUFFER, PAST_SECTIONS_TO_BUFFER);\n    }\n}\nfunction attach_settings() {\n    let go_back_time = document.getElementById(\"go-back-time\");\n    let cache_batch_size = document.getElementById(\"cache-batch-size\");\n    let past_sections_to_buffer = document.getElementById(\"past-sections-to-buffer\");\n    let future_sections_to_buffer = document.getElementById(\"future-sections-to-buffer\");\n    let use_fallback_loader = document.getElementById(\"fallback-loader-selected\");\n    let reset_settings = document.getElementById(\"reset-settings\");\n    let update_settings = document.getElementById(\"update-settings\");\n    go_back_time.value = Math.round(GO_BACK_TIME / 1000).toString();\n    cache_batch_size.value = CACHE_BATCH_SIZE.toString();\n    past_sections_to_buffer.value = PAST_SECTIONS_TO_BUFFER.toString();\n    future_sections_to_buffer.value = FUTURE_SECTIONS_TO_BUFFER.toString();\n    // automatically set use_buffer_loader\n    use_fallback_loader.checked = USE_FALLBACK_LOADER;\n    // set callback\n    reset_settings.addEventListener(\"click\", discard_url_params);\n    update_settings.addEventListener(\"click\", () => {\n        // silently prevent invalid input\n        // TODO: add error message\n        if (!isNaN(parseInt(go_back_time.value)))\n            GO_BACK_TIME = parseInt(go_back_time.value) * 1000;\n        if (parseInt(cache_batch_size.value) > 0)\n            CACHE_BATCH_SIZE = parseInt(cache_batch_size.value);\n        if (parseInt(past_sections_to_buffer.value) > 0)\n            PAST_SECTIONS_TO_BUFFER = parseInt(past_sections_to_buffer.value);\n        if (parseInt(future_sections_to_buffer.value) > 0)\n            FUTURE_SECTIONS_TO_BUFFER = parseInt(future_sections_to_buffer.value);\n        // buffer-loader-selected doesn't have to be worried about <- logically linked\n        USE_FALLBACK_LOADER = use_fallback_loader.checked;\n        update_url_params();\n    });\n}\nfunction attach_export() {\n    let export_presentation = document.getElementById(\"export-presentation\");\n    if (export_presentation !== null) {\n        let target = export_presentation.dataset.target;\n        let project_name = export_presentation.dataset.name;\n        export_presentation.addEventListener(\"click\", () => {\n            // flash(\"The project is being exported as a presentation, this might take a few seconds. Open the terminal for more info.\", \"info\");\n            (0, utils_1.spin_button)(export_presentation);\n            (0, utils_2.send_json)(target, { \"name\": project_name }, (response) => {\n                if (response.success) {\n                    export_presentation === null || export_presentation === void 0 ? void 0 : export_presentation.remove();\n                    (0, utils_2.flash)(\"The project has been exported, copy the project directory into a web server to serve it. More information can be found in the documentation.\", \"success\");\n                }\n                else\n                    (0, utils_2.flash)(`The editor unexpectedly failed to export the project '${project_name}' as a presentation. For more information see the console log. Please consider opening an Issue on GitHub if this problem persists.`, \"danger\");\n            });\n        });\n    }\n}\n// ignore keyboard layout\nfunction attach_keyboard_ui(presentation) {\n    // according to KeyboardEvent.code on: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code/code_values\n    const prev_keys = [\n        \"ArrowLeft\",\n        \"ArrowDown\",\n        \"PageDown\",\n        \"Backspace\",\n    ];\n    const next_keys = [\n        \"ArrowRight\",\n        \"ArrowUp\",\n        \"PageUp\",\n        \"Enter\",\n    ];\n    const pause_keys = [\n        \"Space\",\n    ];\n    const fullscreen_keys = [\n        \"KeyF\",\n    ];\n    const all_keys = prev_keys.concat(next_keys, pause_keys, fullscreen_keys);\n    document.addEventListener(\"keydown\", (e) => {\n        // prevent keys from scrolling page or clicking buttons\n        if (all_keys.includes(e.code))\n            e.preventDefault();\n        // catch keys only once\n        if (e.repeat)\n            return;\n        // run function in presentation\n        if (prev_keys.includes(e.code) && (e.ctrlKey || e.metaKey))\n            presentation.play_previous_section_forced();\n        else if (prev_keys.includes(e.code))\n            presentation.play_previous_section();\n        else if (next_keys.includes(e.code) && (e.ctrlKey || e.metaKey))\n            presentation.play_next_section_forced();\n        else if (next_keys.includes(e.code))\n            presentation.play_next_section();\n        else if (pause_keys.includes(e.code))\n            presentation.toggle_pause();\n        else if (fullscreen_keys.includes(e.code))\n            presentation.toggle_fullscreen();\n    });\n}\nfunction check_browser() {\n    const browser = Bowser.getParser(window.navigator.userAgent);\n    // TODO: add better versions that have actually been tested\n    const is_valid = browser.satisfies({\n        firefox: \">80\",\n        chrome: \">80\",\n        edge: \">40\",\n    });\n    if (!is_valid)\n        (0, utils_2.flash)(\"Your browser isn't officially supported. If you encounter any problems use a recent Version of Firefox, Chrome or Edge. Consider opening an Issue on GitHub to remove this warning if your browser works regardless.\", \"warning\");\n}\ndocument.body.onload = () => {\n    load_url_params();\n    let presentation = create_presentation();\n    attach_settings();\n    attach_export();\n    attach_keyboard_ui(presentation);\n    check_browser();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2VkaXRfcHJvamVjdC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFuaW1fZWRpdG9yLy4vd2ViX3NyYy90cy9lZGl0X3Byb2plY3QudHM/NmI0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3QgYnVmZmVyX3ByZXNlbnRhdGlvbl8xID0gcmVxdWlyZShcIi4vYnVmZmVyX3ByZXNlbnRlci9idWZmZXJfcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgZmFsbGJhY2tfcHJlc2VudGF0aW9uXzEgPSByZXF1aXJlKFwiLi9mYWxsYmFja19wcmVzZW50ZXIvZmFsbGJhY2tfcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgdXRpbHNfMiA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3QgQm93c2VyID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJib3dzZXJcIikpO1xuLy8gdXNlZCB0byBsb2FkIGFuZCB1cGRhdGUgcGxheWVyIHNldHRpbmdzXG4vLyBOT1RFOiBpbiBtaWxsaXNlY29uZHMgcmF0aGVyIHRoYW4gc2Vjb25kcyBhcyBpbnB1dHRlZCBieSB0aGUgdXNlclxubGV0IEdPX0JBQ0tfVElNRSA9IDEwMDA7XG5sZXQgQ0FDSEVfQkFUQ0hfU0laRSA9IDM7XG5sZXQgUEFTVF9TRUNUSU9OU19UT19CVUZGRVIgPSAxMDtcbmxldCBGVVRVUkVfU0VDVElPTlNfVE9fQlVGRkVSID0gMjA7XG5sZXQgVVNFX0ZBTExCQUNLX0xPQURFUiA9IGZhbHNlO1xubGV0IHVybF9zZWFyY2hfcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpO1xuZnVuY3Rpb24gbG9hZF91cmxfcGFyYW1zKCkge1xuICAgIGlmICh1cmxfc2VhcmNoX3BhcmFtcy5oYXMoXCJnb19iYWNrX3RpbWVcIikpXG4gICAgICAgIEdPX0JBQ0tfVElNRSA9IE51bWJlcih1cmxfc2VhcmNoX3BhcmFtcy5nZXQoXCJnb19iYWNrX3RpbWVcIikpO1xuICAgIGlmICh1cmxfc2VhcmNoX3BhcmFtcy5oYXMoXCJjYWNoZV9iYXRjaF9zaXplXCIpKVxuICAgICAgICBDQUNIRV9CQVRDSF9TSVpFID0gTnVtYmVyKHVybF9zZWFyY2hfcGFyYW1zLmdldChcImNhY2hlX2JhdGNoX3NpemVcIikpO1xuICAgIGlmICh1cmxfc2VhcmNoX3BhcmFtcy5oYXMoXCJwYXN0X3NlY3Rpb25zX3RvX2J1ZmZlclwiKSlcbiAgICAgICAgUEFTVF9TRUNUSU9OU19UT19CVUZGRVIgPSBOdW1iZXIodXJsX3NlYXJjaF9wYXJhbXMuZ2V0KFwicGFzdF9zZWN0aW9uc190b19idWZmZXJcIikpO1xuICAgIGlmICh1cmxfc2VhcmNoX3BhcmFtcy5oYXMoXCJmdXR1cmVfc2VjdGlvbnNfdG9fYnVmZmVyXCIpKVxuICAgICAgICBGVVRVUkVfU0VDVElPTlNfVE9fQlVGRkVSID0gTnVtYmVyKHVybF9zZWFyY2hfcGFyYW1zLmdldChcImZ1dHVyZV9zZWN0aW9uc190b19idWZmZXJcIikpO1xuICAgIGlmICh1cmxfc2VhcmNoX3BhcmFtcy5oYXMoXCJ1c2VfZmFsbGJhY2tfbG9hZGVyXCIpKVxuICAgICAgICBVU0VfRkFMTEJBQ0tfTE9BREVSID0gdXJsX3NlYXJjaF9wYXJhbXMuZ2V0KFwidXNlX2ZhbGxiYWNrX2xvYWRlclwiKSA9PT0gXCJ0cnVlXCI7XG59XG4vLyB1cGRhdGUgdXJsIHBhcmFtZXRlciBhbmQgcmVsb2FkIHBhZ2VcbmZ1bmN0aW9uIHVwZGF0ZV91cmxfcGFyYW1zKCkge1xuICAgIHVybF9zZWFyY2hfcGFyYW1zLnNldChcImdvX2JhY2tfdGltZVwiLCBHT19CQUNLX1RJTUUudG9TdHJpbmcoKSk7XG4gICAgdXJsX3NlYXJjaF9wYXJhbXMuc2V0KFwiY2FjaGVfYmF0Y2hfc2l6ZVwiLCBDQUNIRV9CQVRDSF9TSVpFLnRvU3RyaW5nKCkpO1xuICAgIHVybF9zZWFyY2hfcGFyYW1zLnNldChcInBhc3Rfc2VjdGlvbnNfdG9fYnVmZmVyXCIsIEZVVFVSRV9TRUNUSU9OU19UT19CVUZGRVIudG9TdHJpbmcoKSk7XG4gICAgdXJsX3NlYXJjaF9wYXJhbXMuc2V0KFwiZnV0dXJlX3NlY3Rpb25zX3RvX2J1ZmZlclwiLCBQQVNUX1NFQ1RJT05TX1RPX0JVRkZFUi50b1N0cmluZygpKTtcbiAgICB1cmxfc2VhcmNoX3BhcmFtcy5zZXQoXCJ1c2VfZmFsbGJhY2tfbG9hZGVyXCIsIFVTRV9GQUxMQkFDS19MT0FERVIudG9TdHJpbmcoKSk7XG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCBgJHtsb2NhdGlvbi5wYXRobmFtZX0/JHt1cmxfc2VhcmNoX3BhcmFtcy50b1N0cmluZygpfWApO1xuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xufVxuLy8gcmVtb3ZlIHVybCBwYXJhbWV0ZXIgYW5kIHJlbG9hZCBwYWdlXG5mdW5jdGlvbiBkaXNjYXJkX3VybF9wYXJhbXMoKSB7XG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCBgJHtsb2NhdGlvbi5wYXRobmFtZX1gKTtcbiAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9wcmVzZW50YXRpb24oKSB7XG4gICAgaWYgKFVTRV9GQUxMQkFDS19MT0FERVIpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFVzaW5nIEZhbGxiYWNrUHJlc2VudGF0aW9uIHdpdGggYSBjYWNoZSBiYXRjaCBzaXplIG9mICR7Q0FDSEVfQkFUQ0hfU0laRX0uYCk7XG4gICAgICAgIHJldHVybiBuZXcgZmFsbGJhY2tfcHJlc2VudGF0aW9uXzEuRmFsbGJhY2tQcmVzZW50YXRpb24oR09fQkFDS19USU1FLCBDQUNIRV9CQVRDSF9TSVpFKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyBCdWZmZXJQcmVzZW50YXRpb24gd2l0aCAke0ZVVFVSRV9TRUNUSU9OU19UT19CVUZGRVJ9IHNlY3Rpb25zIHRvIGF1dG8gbG9hZCwgJHtQQVNUX1NFQ1RJT05TX1RPX0JVRkZFUn0gc2VjdGlvbnMgdG8ga2VlcCBhbmQgYSBjYWNoZSBiYXRjaCBzaXplIG9mICR7Q0FDSEVfQkFUQ0hfU0laRX0uYCk7XG4gICAgICAgIHJldHVybiBuZXcgYnVmZmVyX3ByZXNlbnRhdGlvbl8xLkJ1ZmZlclByZXNlbnRhdGlvbihHT19CQUNLX1RJTUUsIENBQ0hFX0JBVENIX1NJWkUsIEZVVFVSRV9TRUNUSU9OU19UT19CVUZGRVIsIFBBU1RfU0VDVElPTlNfVE9fQlVGRkVSKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhdHRhY2hfc2V0dGluZ3MoKSB7XG4gICAgbGV0IGdvX2JhY2tfdGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ28tYmFjay10aW1lXCIpO1xuICAgIGxldCBjYWNoZV9iYXRjaF9zaXplID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYWNoZS1iYXRjaC1zaXplXCIpO1xuICAgIGxldCBwYXN0X3NlY3Rpb25zX3RvX2J1ZmZlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzdC1zZWN0aW9ucy10by1idWZmZXJcIik7XG4gICAgbGV0IGZ1dHVyZV9zZWN0aW9uc190b19idWZmZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ1dHVyZS1zZWN0aW9ucy10by1idWZmZXJcIik7XG4gICAgbGV0IHVzZV9mYWxsYmFja19sb2FkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZhbGxiYWNrLWxvYWRlci1zZWxlY3RlZFwiKTtcbiAgICBsZXQgcmVzZXRfc2V0dGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc2V0LXNldHRpbmdzXCIpO1xuICAgIGxldCB1cGRhdGVfc2V0dGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVwZGF0ZS1zZXR0aW5nc1wiKTtcbiAgICBnb19iYWNrX3RpbWUudmFsdWUgPSBNYXRoLnJvdW5kKEdPX0JBQ0tfVElNRSAvIDEwMDApLnRvU3RyaW5nKCk7XG4gICAgY2FjaGVfYmF0Y2hfc2l6ZS52YWx1ZSA9IENBQ0hFX0JBVENIX1NJWkUudG9TdHJpbmcoKTtcbiAgICBwYXN0X3NlY3Rpb25zX3RvX2J1ZmZlci52YWx1ZSA9IFBBU1RfU0VDVElPTlNfVE9fQlVGRkVSLnRvU3RyaW5nKCk7XG4gICAgZnV0dXJlX3NlY3Rpb25zX3RvX2J1ZmZlci52YWx1ZSA9IEZVVFVSRV9TRUNUSU9OU19UT19CVUZGRVIudG9TdHJpbmcoKTtcbiAgICAvLyBhdXRvbWF0aWNhbGx5IHNldCB1c2VfYnVmZmVyX2xvYWRlclxuICAgIHVzZV9mYWxsYmFja19sb2FkZXIuY2hlY2tlZCA9IFVTRV9GQUxMQkFDS19MT0FERVI7XG4gICAgLy8gc2V0IGNhbGxiYWNrXG4gICAgcmVzZXRfc2V0dGluZ3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGRpc2NhcmRfdXJsX3BhcmFtcyk7XG4gICAgdXBkYXRlX3NldHRpbmdzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIC8vIHNpbGVudGx5IHByZXZlbnQgaW52YWxpZCBpbnB1dFxuICAgICAgICAvLyBUT0RPOiBhZGQgZXJyb3IgbWVzc2FnZVxuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KGdvX2JhY2tfdGltZS52YWx1ZSkpKVxuICAgICAgICAgICAgR09fQkFDS19USU1FID0gcGFyc2VJbnQoZ29fYmFja190aW1lLnZhbHVlKSAqIDEwMDA7XG4gICAgICAgIGlmIChwYXJzZUludChjYWNoZV9iYXRjaF9zaXplLnZhbHVlKSA+IDApXG4gICAgICAgICAgICBDQUNIRV9CQVRDSF9TSVpFID0gcGFyc2VJbnQoY2FjaGVfYmF0Y2hfc2l6ZS52YWx1ZSk7XG4gICAgICAgIGlmIChwYXJzZUludChwYXN0X3NlY3Rpb25zX3RvX2J1ZmZlci52YWx1ZSkgPiAwKVxuICAgICAgICAgICAgUEFTVF9TRUNUSU9OU19UT19CVUZGRVIgPSBwYXJzZUludChwYXN0X3NlY3Rpb25zX3RvX2J1ZmZlci52YWx1ZSk7XG4gICAgICAgIGlmIChwYXJzZUludChmdXR1cmVfc2VjdGlvbnNfdG9fYnVmZmVyLnZhbHVlKSA+IDApXG4gICAgICAgICAgICBGVVRVUkVfU0VDVElPTlNfVE9fQlVGRkVSID0gcGFyc2VJbnQoZnV0dXJlX3NlY3Rpb25zX3RvX2J1ZmZlci52YWx1ZSk7XG4gICAgICAgIC8vIGJ1ZmZlci1sb2FkZXItc2VsZWN0ZWQgZG9lc24ndCBoYXZlIHRvIGJlIHdvcnJpZWQgYWJvdXQgPC0gbG9naWNhbGx5IGxpbmtlZFxuICAgICAgICBVU0VfRkFMTEJBQ0tfTE9BREVSID0gdXNlX2ZhbGxiYWNrX2xvYWRlci5jaGVja2VkO1xuICAgICAgICB1cGRhdGVfdXJsX3BhcmFtcygpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYXR0YWNoX2V4cG9ydCgpIHtcbiAgICBsZXQgZXhwb3J0X3ByZXNlbnRhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhwb3J0LXByZXNlbnRhdGlvblwiKTtcbiAgICBpZiAoZXhwb3J0X3ByZXNlbnRhdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gZXhwb3J0X3ByZXNlbnRhdGlvbi5kYXRhc2V0LnRhcmdldDtcbiAgICAgICAgbGV0IHByb2plY3RfbmFtZSA9IGV4cG9ydF9wcmVzZW50YXRpb24uZGF0YXNldC5uYW1lO1xuICAgICAgICBleHBvcnRfcHJlc2VudGF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBmbGFzaChcIlRoZSBwcm9qZWN0IGlzIGJlaW5nIGV4cG9ydGVkIGFzIGEgcHJlc2VudGF0aW9uLCB0aGlzIG1pZ2h0IHRha2UgYSBmZXcgc2Vjb25kcy4gT3BlbiB0aGUgdGVybWluYWwgZm9yIG1vcmUgaW5mby5cIiwgXCJpbmZvXCIpO1xuICAgICAgICAgICAgKDAsIHV0aWxzXzEuc3Bpbl9idXR0b24pKGV4cG9ydF9wcmVzZW50YXRpb24pO1xuICAgICAgICAgICAgKDAsIHV0aWxzXzIuc2VuZF9qc29uKSh0YXJnZXQsIHsgXCJuYW1lXCI6IHByb2plY3RfbmFtZSB9LCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBleHBvcnRfcHJlc2VudGF0aW9uID09PSBudWxsIHx8IGV4cG9ydF9wcmVzZW50YXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV4cG9ydF9wcmVzZW50YXRpb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc18yLmZsYXNoKShcIlRoZSBwcm9qZWN0IGhhcyBiZWVuIGV4cG9ydGVkLCBjb3B5IHRoZSBwcm9qZWN0IGRpcmVjdG9yeSBpbnRvIGEgd2ViIHNlcnZlciB0byBzZXJ2ZSBpdC4gTW9yZSBpbmZvcm1hdGlvbiBjYW4gYmUgZm91bmQgaW4gdGhlIGRvY3VtZW50YXRpb24uXCIsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMi5mbGFzaCkoYFRoZSBlZGl0b3IgdW5leHBlY3RlZGx5IGZhaWxlZCB0byBleHBvcnQgdGhlIHByb2plY3QgJyR7cHJvamVjdF9uYW1lfScgYXMgYSBwcmVzZW50YXRpb24uIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSB0aGUgY29uc29sZSBsb2cuIFBsZWFzZSBjb25zaWRlciBvcGVuaW5nIGFuIElzc3VlIG9uIEdpdEh1YiBpZiB0aGlzIHByb2JsZW0gcGVyc2lzdHMuYCwgXCJkYW5nZXJcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gaWdub3JlIGtleWJvYXJkIGxheW91dFxuZnVuY3Rpb24gYXR0YWNoX2tleWJvYXJkX3VpKHByZXNlbnRhdGlvbikge1xuICAgIC8vIGFjY29yZGluZyB0byBLZXlib2FyZEV2ZW50LmNvZGUgb246IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50L2NvZGUvY29kZV92YWx1ZXNcbiAgICBjb25zdCBwcmV2X2tleXMgPSBbXG4gICAgICAgIFwiQXJyb3dMZWZ0XCIsXG4gICAgICAgIFwiQXJyb3dEb3duXCIsXG4gICAgICAgIFwiUGFnZURvd25cIixcbiAgICAgICAgXCJCYWNrc3BhY2VcIixcbiAgICBdO1xuICAgIGNvbnN0IG5leHRfa2V5cyA9IFtcbiAgICAgICAgXCJBcnJvd1JpZ2h0XCIsXG4gICAgICAgIFwiQXJyb3dVcFwiLFxuICAgICAgICBcIlBhZ2VVcFwiLFxuICAgICAgICBcIkVudGVyXCIsXG4gICAgXTtcbiAgICBjb25zdCBwYXVzZV9rZXlzID0gW1xuICAgICAgICBcIlNwYWNlXCIsXG4gICAgXTtcbiAgICBjb25zdCBmdWxsc2NyZWVuX2tleXMgPSBbXG4gICAgICAgIFwiS2V5RlwiLFxuICAgIF07XG4gICAgY29uc3QgYWxsX2tleXMgPSBwcmV2X2tleXMuY29uY2F0KG5leHRfa2V5cywgcGF1c2Vfa2V5cywgZnVsbHNjcmVlbl9rZXlzKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgICAvLyBwcmV2ZW50IGtleXMgZnJvbSBzY3JvbGxpbmcgcGFnZSBvciBjbGlja2luZyBidXR0b25zXG4gICAgICAgIGlmIChhbGxfa2V5cy5pbmNsdWRlcyhlLmNvZGUpKVxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBjYXRjaCBrZXlzIG9ubHkgb25jZVxuICAgICAgICBpZiAoZS5yZXBlYXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIHJ1biBmdW5jdGlvbiBpbiBwcmVzZW50YXRpb25cbiAgICAgICAgaWYgKHByZXZfa2V5cy5pbmNsdWRlcyhlLmNvZGUpICYmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSlcbiAgICAgICAgICAgIHByZXNlbnRhdGlvbi5wbGF5X3ByZXZpb3VzX3NlY3Rpb25fZm9yY2VkKCk7XG4gICAgICAgIGVsc2UgaWYgKHByZXZfa2V5cy5pbmNsdWRlcyhlLmNvZGUpKVxuICAgICAgICAgICAgcHJlc2VudGF0aW9uLnBsYXlfcHJldmlvdXNfc2VjdGlvbigpO1xuICAgICAgICBlbHNlIGlmIChuZXh0X2tleXMuaW5jbHVkZXMoZS5jb2RlKSAmJiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkpXG4gICAgICAgICAgICBwcmVzZW50YXRpb24ucGxheV9uZXh0X3NlY3Rpb25fZm9yY2VkKCk7XG4gICAgICAgIGVsc2UgaWYgKG5leHRfa2V5cy5pbmNsdWRlcyhlLmNvZGUpKVxuICAgICAgICAgICAgcHJlc2VudGF0aW9uLnBsYXlfbmV4dF9zZWN0aW9uKCk7XG4gICAgICAgIGVsc2UgaWYgKHBhdXNlX2tleXMuaW5jbHVkZXMoZS5jb2RlKSlcbiAgICAgICAgICAgIHByZXNlbnRhdGlvbi50b2dnbGVfcGF1c2UoKTtcbiAgICAgICAgZWxzZSBpZiAoZnVsbHNjcmVlbl9rZXlzLmluY2x1ZGVzKGUuY29kZSkpXG4gICAgICAgICAgICBwcmVzZW50YXRpb24udG9nZ2xlX2Z1bGxzY3JlZW4oKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNoZWNrX2Jyb3dzZXIoKSB7XG4gICAgY29uc3QgYnJvd3NlciA9IEJvd3Nlci5nZXRQYXJzZXIod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIC8vIFRPRE86IGFkZCBiZXR0ZXIgdmVyc2lvbnMgdGhhdCBoYXZlIGFjdHVhbGx5IGJlZW4gdGVzdGVkXG4gICAgY29uc3QgaXNfdmFsaWQgPSBicm93c2VyLnNhdGlzZmllcyh7XG4gICAgICAgIGZpcmVmb3g6IFwiPjgwXCIsXG4gICAgICAgIGNocm9tZTogXCI+ODBcIixcbiAgICAgICAgZWRnZTogXCI+NDBcIixcbiAgICB9KTtcbiAgICBpZiAoIWlzX3ZhbGlkKVxuICAgICAgICAoMCwgdXRpbHNfMi5mbGFzaCkoXCJZb3VyIGJyb3dzZXIgaXNuJ3Qgb2ZmaWNpYWxseSBzdXBwb3J0ZWQuIElmIHlvdSBlbmNvdW50ZXIgYW55IHByb2JsZW1zIHVzZSBhIHJlY2VudCBWZXJzaW9uIG9mIEZpcmVmb3gsIENocm9tZSBvciBFZGdlLiBDb25zaWRlciBvcGVuaW5nIGFuIElzc3VlIG9uIEdpdEh1YiB0byByZW1vdmUgdGhpcyB3YXJuaW5nIGlmIHlvdXIgYnJvd3NlciB3b3JrcyByZWdhcmRsZXNzLlwiLCBcIndhcm5pbmdcIik7XG59XG5kb2N1bWVudC5ib2R5Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBsb2FkX3VybF9wYXJhbXMoKTtcbiAgICBsZXQgcHJlc2VudGF0aW9uID0gY3JlYXRlX3ByZXNlbnRhdGlvbigpO1xuICAgIGF0dGFjaF9zZXR0aW5ncygpO1xuICAgIGF0dGFjaF9leHBvcnQoKTtcbiAgICBhdHRhY2hfa2V5Ym9hcmRfdWkocHJlc2VudGF0aW9uKTtcbiAgICBjaGVja19icm93c2VyKCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./web_src/ts/edit_project.ts\n");

/***/ }),

/***/ "./web_src/ts/fallback_presenter/fallback_presentation.ts":
/*!****************************************************************!*\
  !*** ./web_src/ts/fallback_presenter/fallback_presentation.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FallbackPresentation = void 0;\nconst presentation_1 = __webpack_require__(/*! ../presenter/presentation */ \"./web_src/ts/presenter/presentation.ts\");\nconst fallback_section_1 = __webpack_require__(/*! ./fallback_section */ \"./web_src/ts/fallback_presenter/fallback_section.ts\");\n// no buffering, only change src of video\nclass FallbackPresentation extends presentation_1.Presentation {\n    create_section(section_json, slide) {\n        return new fallback_section_1.FallbackSection(section_json, slide);\n    }\n}\nexports.FallbackPresentation = FallbackPresentation;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2ZhbGxiYWNrX3ByZXNlbnRlci9mYWxsYmFja19wcmVzZW50YXRpb24udHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFuaW1fZWRpdG9yLy4vd2ViX3NyYy90cy9mYWxsYmFja19wcmVzZW50ZXIvZmFsbGJhY2tfcHJlc2VudGF0aW9uLnRzPzU2M2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZhbGxiYWNrUHJlc2VudGF0aW9uID0gdm9pZCAwO1xuY29uc3QgcHJlc2VudGF0aW9uXzEgPSByZXF1aXJlKFwiLi4vcHJlc2VudGVyL3ByZXNlbnRhdGlvblwiKTtcbmNvbnN0IGZhbGxiYWNrX3NlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2ZhbGxiYWNrX3NlY3Rpb25cIik7XG4vLyBubyBidWZmZXJpbmcsIG9ubHkgY2hhbmdlIHNyYyBvZiB2aWRlb1xuY2xhc3MgRmFsbGJhY2tQcmVzZW50YXRpb24gZXh0ZW5kcyBwcmVzZW50YXRpb25fMS5QcmVzZW50YXRpb24ge1xuICAgIGNyZWF0ZV9zZWN0aW9uKHNlY3Rpb25fanNvbiwgc2xpZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBmYWxsYmFja19zZWN0aW9uXzEuRmFsbGJhY2tTZWN0aW9uKHNlY3Rpb25fanNvbiwgc2xpZGUpO1xuICAgIH1cbn1cbmV4cG9ydHMuRmFsbGJhY2tQcmVzZW50YXRpb24gPSBGYWxsYmFja1ByZXNlbnRhdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./web_src/ts/fallback_presenter/fallback_presentation.ts\n");

/***/ }),

/***/ "./web_src/ts/fallback_presenter/fallback_section.ts":
/*!***********************************************************!*\
  !*** ./web_src/ts/fallback_presenter/fallback_section.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FallbackSection = void 0;\nconst section_1 = __webpack_require__(/*! ../presenter/section */ \"./web_src/ts/presenter/section.ts\");\nclass FallbackSection extends section_1.Section {\n    // use default video fetcher with no buffering\n    get_src_url() {\n        return this.video;\n    }\n}\nexports.FallbackSection = FallbackSection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2ZhbGxiYWNrX3ByZXNlbnRlci9mYWxsYmFja19zZWN0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYW5pbV9lZGl0b3IvLi93ZWJfc3JjL3RzL2ZhbGxiYWNrX3ByZXNlbnRlci9mYWxsYmFja19zZWN0aW9uLnRzPzUwMzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZhbGxiYWNrU2VjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IHNlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9wcmVzZW50ZXIvc2VjdGlvblwiKTtcbmNsYXNzIEZhbGxiYWNrU2VjdGlvbiBleHRlbmRzIHNlY3Rpb25fMS5TZWN0aW9uIHtcbiAgICAvLyB1c2UgZGVmYXVsdCB2aWRlbyBmZXRjaGVyIHdpdGggbm8gYnVmZmVyaW5nXG4gICAgZ2V0X3NyY191cmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvO1xuICAgIH1cbn1cbmV4cG9ydHMuRmFsbGJhY2tTZWN0aW9uID0gRmFsbGJhY2tTZWN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./web_src/ts/fallback_presenter/fallback_section.ts\n");

/***/ }),

/***/ "./web_src/ts/presenter/presentation.ts":
/*!**********************************************!*\
  !*** ./web_src/ts/presenter/presentation.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Presentation = void 0;\nconst utils_1 = __webpack_require__(/*! ../utils */ \"./web_src/ts/utils.ts\");\nconst section_1 = __webpack_require__(/*! ./section */ \"./web_src/ts/presenter/section.ts\");\nclass Presentation {\n    constructor(go_back_time, cache_batch_size) {\n        // switch between play and pause\n        this.button_should_pause = true;\n        // gets flipped when displaying first video\n        this.current_video = 1;\n        this.slides = [];\n        this.sections = [];\n        this.current_section = -1;\n        // used for restarting loops\n        // <- has to be done to allow complete loops\n        // also used for setting time stamps\n        // most of the time same as current_section, only different when video element has to be touched\n        this.previous_section = -1;\n        // used for complete loops\n        this.next_section = 0;\n        this.go_back_time = go_back_time;\n        this.cache_batch_size = cache_batch_size;\n        this.video0 = document.getElementById(\"video0\");\n        this.video1 = document.getElementById(\"video1\");\n        this.videos_div = document.getElementById(\"videos-div\");\n        this.pause_button = document.getElementById(\"pause\");\n        this.normal_legend = document.getElementById(\"normal-legend\");\n        this.skip_legend = document.getElementById(\"skip-legend\");\n        this.loop_legend = document.getElementById(\"loop-legend\");\n        this.complete_loop_legend = document.getElementById(\"complete-loop-legend\");\n        // load_sections\n        let project_file = this.videos_div.dataset.project_file;\n        (0, utils_1.get_json)(project_file, (slides_json) => {\n            // construct slides (and sections) from json response\n            for (let slide_json of slides_json) {\n                let new_slide = new section_1.Slide(slide_json, this.create_section.bind(this));\n                this.slides.push(new_slide);\n                this.sections = this.sections.concat(new_slide.get_sections());\n            }\n            console.log(`All ${this.slides.length} slides and a total of ${this.sections.length} sections have been parsed successfully.`);\n            this.attach_timeline();\n            this.attach_buttons();\n            // start the action\n            this.play_section(0);\n        });\n    }\n    // to be used when section has ended\n    set_time_stamp() {\n        if (this.previous_section != -1)\n            this.sections[this.previous_section].stop_timer();\n        this.sections[this.current_section].start_timer();\n    }\n    // update currently playing video in html video element\n    update_video() {\n        this.set_button_pause();\n        // correct section already current\n        if (this.current_section == this.previous_section) {\n            // restart video\n            this.get_current_video().currentTime = 0;\n            this.get_current_video().play();\n            return;\n        }\n        // swap videos\n        let last_element = this.get_current_video();\n        this.current_video = this.current_video == 0 ? 1 : 0;\n        let next_element = this.get_current_video();\n        // double buffering: setup new video\n        next_element.src = this.sections[this.current_section].get_src_url();\n        next_element.style.visibility = \"visible\";\n        // set callback for when video has ended\n        switch (this.sections[this.current_section].get_type()) {\n            case section_1.SectionType.SKIP:\n                next_element.onended = (_) => {\n                    // immediately go to next section without user input\n                    this.play_section(this.current_section + 1, true);\n                };\n                break;\n            case section_1.SectionType.LOOP:\n                next_element.onended = (_) => {\n                    // restart from beginning\n                    // section ends -> don't set timestamp\n                    this.update_video();\n                };\n                break;\n            case section_1.SectionType.COMPLETE_LOOP:\n                next_element.onended = (_) => {\n                    // when next section has changed, go to next one\n                    // otherwise restart\n                    this.play_section(this.next_section, true);\n                };\n                break;\n            // SectionType.NORMAL\n            default:\n                // do nothing <- wait for user input\n                next_element.onended = (_) => { };\n                break;\n        }\n        console.log(`Playing section '${this.sections[this.current_section].get_name()}'`);\n        // hide old video once new one plays\n        next_element.play().then(() => {\n            // pause old video to not call onended callback again when that video ends in background\n            last_element.pause();\n            last_element.style.visibility = \"hidden\";\n        });\n        this.update_timeline();\n        this.update_legend();\n        this.update_source();\n        // everything done -> section has changed\n        this.previous_section = this.current_section;\n    }\n    // skip_complete_loop can be used in the timeline or as a forced continue\n    play_section(section, skip_complete_loop = false) {\n        // out of bounds checking\n        if (section < 0)\n            section = 0;\n        else if (section >= this.sections.length) {\n            // skip to end of current section\n            let current_video = this.get_current_video();\n            // required for chrome\n            current_video.currentTime = Math.max(0, current_video.duration - 0.1);\n            return;\n        }\n        console.log(`Switching to section '${this.sections[section].get_name()}'`);\n        if (this.current_section != -1 &&\n            this.sections[this.current_section].get_type() == section_1.SectionType.COMPLETE_LOOP &&\n            !skip_complete_loop) {\n            // if current section is complete loop, wait until it finishes\n            this.next_section = section;\n        }\n        else {\n            // instantly switch the video\n            this.next_section = section;\n            this.current_section = section;\n            this.set_time_stamp();\n            this.update_video();\n        }\n    }\n    play_next_section() {\n        this.play_section(this.current_section + 1, false);\n    }\n    play_next_section_forced() {\n        this.play_section(this.current_section + 1, true);\n    }\n    restart_current_section() {\n        this.play_section(this.current_section, true);\n    }\n    play_previous_section() {\n        // required to get an accurate duration readout\n        this.sections[this.current_section].stop_timer();\n        // either restart or go back\n        if (this.go_back_time < 0 || this.sections[this.current_section].get_duration() < this.go_back_time) {\n            this.play_previous_section_forced();\n        }\n        else\n            this.restart_current_section();\n    }\n    play_previous_section_forced() {\n        // don't finish complete loops when going back\n        this.play_section(this.current_section - 1, true);\n    }\n    get_current_section() { return this.current_section; }\n    get_current_video() {\n        if (this.current_video == 0)\n            return this.video0;\n        else\n            return this.video1;\n    }\n    /////////////\n    // caching //\n    /////////////\n    // asynchronous, recursive; downloads everything after offset in batches\n    cache_batch(offset, on_finished) {\n        let finished = offset;\n        // cache one whole batch\n        for (let i = offset, len = Math.min(offset + this.cache_batch_size, this.sections.length); i < len; ++i)\n            this.sections[i].cache(() => {\n                ++finished;\n                // all finished\n                if (finished == this.sections.length) {\n                    console.log(`Batch caching complete with offset ${offset}`);\n                    console.log(\"Caching complete\");\n                    on_finished();\n                }\n                // start next batch\n                else if (finished == offset + this.cache_batch_size) {\n                    console.log(`Batch caching complete with offset ${offset}`);\n                    this.cache_batch(finished, on_finished);\n                }\n            });\n    }\n    // asynchronous\n    cache(on_finished) {\n        this.cache_batch(0, on_finished);\n    }\n    ////////////////\n    // fullscreen //\n    ////////////////\n    enter_fullscreen() {\n        console.log(\"Entering fullscreen.\");\n        // conversion to any required because WebKit API not known to TypeScript\n        if (this.videos_div.requestFullscreen)\n            this.videos_div.requestFullscreen();\n        // safari\n        else if (this.videos_div.webkitRequestFullscreen)\n            this.videos_div.webkitRequestFullscreen();\n    }\n    exit_fullscreen() {\n        console.log(\"Exiting fullscreen.\");\n        if (document.exitFullscreen)\n            document.exitFullscreen();\n        // safari\n        else if (document.webkitExitFullscreen)\n            document.webkitExitFullscreen();\n    }\n    fullscreen_status() {\n        return document.fullscreenElement != null ||\n            document.webkitFullscreenElement != null;\n    }\n    toggle_fullscreen() {\n        if (this.fullscreen_status())\n            this.exit_fullscreen();\n        else\n            this.enter_fullscreen();\n    }\n    ////////////////////\n    // user interface //\n    ////////////////////\n    attach_timeline() {\n        for (let slide of this.slides)\n            slide.attach_timeline_click(() => {\n                this.play_section(slide.get_id(), true);\n            });\n    }\n    update_timeline() {\n        let previous_slide = this.previous_section == -1 ? null : this.sections[this.previous_section].get_parent_slide();\n        let current_slide = this.sections[this.current_section].get_parent_slide();\n        if (previous_slide == null)\n            current_slide.add_timeline_selection();\n        else if (previous_slide != current_slide) {\n            current_slide.add_timeline_selection();\n            previous_slide.remove_timeline_selection();\n        }\n        // don't do anything when previous and current slide are the same\n    }\n    update_legend() {\n        // remove old type in legend and select current\n        if (this.previous_section != -1)\n            switch (this.sections[this.previous_section].get_type()) {\n                case section_1.SectionType.NORMAL:\n                    this.normal_legend.classList.remove(\"table-active\");\n                    break;\n                case section_1.SectionType.SKIP:\n                    this.skip_legend.classList.remove(\"table-active\");\n                    break;\n                case section_1.SectionType.LOOP:\n                    this.loop_legend.classList.remove(\"table-active\");\n                    break;\n                case section_1.SectionType.COMPLETE_LOOP:\n                    this.complete_loop_legend.classList.remove(\"table-active\");\n                    break;\n            }\n        switch (this.sections[this.current_section].get_type()) {\n            case section_1.SectionType.NORMAL:\n                this.normal_legend.classList.add(\"table-active\");\n                break;\n            case section_1.SectionType.SKIP:\n                this.skip_legend.classList.add(\"table-active\");\n                break;\n            case section_1.SectionType.LOOP:\n                this.loop_legend.classList.add(\"table-active\");\n                break;\n            case section_1.SectionType.COMPLETE_LOOP:\n                this.complete_loop_legend.classList.add(\"table-active\");\n                break;\n        }\n    }\n    // update icon on button\n    set_button_play() {\n        this.button_should_pause = false;\n        this.pause_button.innerHTML = '<i class=\"bi-play\"></i>';\n    }\n    set_button_pause() {\n        this.button_should_pause = true;\n        this.pause_button.innerHTML = '<i class=\"bi-pause\"></i>';\n    }\n    pause() {\n        console.log(\"Stopped.\");\n        this.get_current_video().pause();\n        this.set_button_play();\n    }\n    play() {\n        console.log(\"Started.\");\n        this.get_current_video().play();\n        this.set_button_pause();\n    }\n    toggle_pause() {\n        if (this.button_should_pause)\n            this.pause();\n        else\n            this.play();\n    }\n    attach_buttons() {\n        let previous = document.getElementById(\"previous-section\");\n        let restart = document.getElementById(\"restart-section\");\n        let next = document.getElementById(\"next-section\");\n        let pause = document.getElementById(\"pause\");\n        let fullscreen = document.getElementById(\"fullscreen\");\n        let cache = document.getElementById(\"cache\");\n        // add callbacks\n        previous.addEventListener(\"click\", this.play_previous_section.bind(this));\n        restart.addEventListener(\"click\", this.restart_current_section.bind(this));\n        next.addEventListener(\"click\", this.play_next_section.bind(this));\n        pause.addEventListener(\"click\", this.toggle_pause.bind(this));\n        fullscreen.addEventListener(\"click\", this.enter_fullscreen.bind(this));\n        cache.addEventListener(\"click\", () => {\n            (0, utils_1.spin_button)(cache);\n            this.cache(() => {\n                cache.remove();\n            });\n        });\n        this.videos_div.addEventListener(\"touchstart\", this.play_next_section.bind(this));\n    }\n    // called after section changed\n    // to be overwritten if required\n    update_source() { }\n}\nexports.Presentation = Presentation;\n;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL3ByZXNlbnRlci9wcmVzZW50YXRpb24udHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21hbmltX2VkaXRvci8uL3dlYl9zcmMvdHMvcHJlc2VudGVyL3ByZXNlbnRhdGlvbi50cz9jM2VhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QcmVzZW50YXRpb24gPSB2b2lkIDA7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuY29uc3Qgc2VjdGlvbl8xID0gcmVxdWlyZShcIi4vc2VjdGlvblwiKTtcbmNsYXNzIFByZXNlbnRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZ29fYmFja190aW1lLCBjYWNoZV9iYXRjaF9zaXplKSB7XG4gICAgICAgIC8vIHN3aXRjaCBiZXR3ZWVuIHBsYXkgYW5kIHBhdXNlXG4gICAgICAgIHRoaXMuYnV0dG9uX3Nob3VsZF9wYXVzZSA9IHRydWU7XG4gICAgICAgIC8vIGdldHMgZmxpcHBlZCB3aGVuIGRpc3BsYXlpbmcgZmlyc3QgdmlkZW9cbiAgICAgICAgdGhpcy5jdXJyZW50X3ZpZGVvID0gMTtcbiAgICAgICAgdGhpcy5zbGlkZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zZWN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRfc2VjdGlvbiA9IC0xO1xuICAgICAgICAvLyB1c2VkIGZvciByZXN0YXJ0aW5nIGxvb3BzXG4gICAgICAgIC8vIDwtIGhhcyB0byBiZSBkb25lIHRvIGFsbG93IGNvbXBsZXRlIGxvb3BzXG4gICAgICAgIC8vIGFsc28gdXNlZCBmb3Igc2V0dGluZyB0aW1lIHN0YW1wc1xuICAgICAgICAvLyBtb3N0IG9mIHRoZSB0aW1lIHNhbWUgYXMgY3VycmVudF9zZWN0aW9uLCBvbmx5IGRpZmZlcmVudCB3aGVuIHZpZGVvIGVsZW1lbnQgaGFzIHRvIGJlIHRvdWNoZWRcbiAgICAgICAgdGhpcy5wcmV2aW91c19zZWN0aW9uID0gLTE7XG4gICAgICAgIC8vIHVzZWQgZm9yIGNvbXBsZXRlIGxvb3BzXG4gICAgICAgIHRoaXMubmV4dF9zZWN0aW9uID0gMDtcbiAgICAgICAgdGhpcy5nb19iYWNrX3RpbWUgPSBnb19iYWNrX3RpbWU7XG4gICAgICAgIHRoaXMuY2FjaGVfYmF0Y2hfc2l6ZSA9IGNhY2hlX2JhdGNoX3NpemU7XG4gICAgICAgIHRoaXMudmlkZW8wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlbzBcIik7XG4gICAgICAgIHRoaXMudmlkZW8xID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlbzFcIik7XG4gICAgICAgIHRoaXMudmlkZW9zX2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9zLWRpdlwiKTtcbiAgICAgICAgdGhpcy5wYXVzZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhdXNlXCIpO1xuICAgICAgICB0aGlzLm5vcm1hbF9sZWdlbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vcm1hbC1sZWdlbmRcIik7XG4gICAgICAgIHRoaXMuc2tpcF9sZWdlbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNraXAtbGVnZW5kXCIpO1xuICAgICAgICB0aGlzLmxvb3BfbGVnZW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb29wLWxlZ2VuZFwiKTtcbiAgICAgICAgdGhpcy5jb21wbGV0ZV9sb29wX2xlZ2VuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tcGxldGUtbG9vcC1sZWdlbmRcIik7XG4gICAgICAgIC8vIGxvYWRfc2VjdGlvbnNcbiAgICAgICAgbGV0IHByb2plY3RfZmlsZSA9IHRoaXMudmlkZW9zX2Rpdi5kYXRhc2V0LnByb2plY3RfZmlsZTtcbiAgICAgICAgKDAsIHV0aWxzXzEuZ2V0X2pzb24pKHByb2plY3RfZmlsZSwgKHNsaWRlc19qc29uKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zdHJ1Y3Qgc2xpZGVzIChhbmQgc2VjdGlvbnMpIGZyb20ganNvbiByZXNwb25zZVxuICAgICAgICAgICAgZm9yIChsZXQgc2xpZGVfanNvbiBvZiBzbGlkZXNfanNvbikge1xuICAgICAgICAgICAgICAgIGxldCBuZXdfc2xpZGUgPSBuZXcgc2VjdGlvbl8xLlNsaWRlKHNsaWRlX2pzb24sIHRoaXMuY3JlYXRlX3NlY3Rpb24uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXMucHVzaChuZXdfc2xpZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdGlvbnMgPSB0aGlzLnNlY3Rpb25zLmNvbmNhdChuZXdfc2xpZGUuZ2V0X3NlY3Rpb25zKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coYEFsbCAke3RoaXMuc2xpZGVzLmxlbmd0aH0gc2xpZGVzIGFuZCBhIHRvdGFsIG9mICR7dGhpcy5zZWN0aW9ucy5sZW5ndGh9IHNlY3Rpb25zIGhhdmUgYmVlbiBwYXJzZWQgc3VjY2Vzc2Z1bGx5LmApO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hfdGltZWxpbmUoKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoX2J1dHRvbnMoKTtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBhY3Rpb25cbiAgICAgICAgICAgIHRoaXMucGxheV9zZWN0aW9uKDApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gdG8gYmUgdXNlZCB3aGVuIHNlY3Rpb24gaGFzIGVuZGVkXG4gICAgc2V0X3RpbWVfc3RhbXAoKSB7XG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzX3NlY3Rpb24gIT0gLTEpXG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25zW3RoaXMucHJldmlvdXNfc2VjdGlvbl0uc3RvcF90aW1lcigpO1xuICAgICAgICB0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudF9zZWN0aW9uXS5zdGFydF90aW1lcigpO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgY3VycmVudGx5IHBsYXlpbmcgdmlkZW8gaW4gaHRtbCB2aWRlbyBlbGVtZW50XG4gICAgdXBkYXRlX3ZpZGVvKCkge1xuICAgICAgICB0aGlzLnNldF9idXR0b25fcGF1c2UoKTtcbiAgICAgICAgLy8gY29ycmVjdCBzZWN0aW9uIGFscmVhZHkgY3VycmVudFxuICAgICAgICBpZiAodGhpcy5jdXJyZW50X3NlY3Rpb24gPT0gdGhpcy5wcmV2aW91c19zZWN0aW9uKSB7XG4gICAgICAgICAgICAvLyByZXN0YXJ0IHZpZGVvXG4gICAgICAgICAgICB0aGlzLmdldF9jdXJyZW50X3ZpZGVvKCkuY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5nZXRfY3VycmVudF92aWRlbygpLnBsYXkoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBzd2FwIHZpZGVvc1xuICAgICAgICBsZXQgbGFzdF9lbGVtZW50ID0gdGhpcy5nZXRfY3VycmVudF92aWRlbygpO1xuICAgICAgICB0aGlzLmN1cnJlbnRfdmlkZW8gPSB0aGlzLmN1cnJlbnRfdmlkZW8gPT0gMCA/IDEgOiAwO1xuICAgICAgICBsZXQgbmV4dF9lbGVtZW50ID0gdGhpcy5nZXRfY3VycmVudF92aWRlbygpO1xuICAgICAgICAvLyBkb3VibGUgYnVmZmVyaW5nOiBzZXR1cCBuZXcgdmlkZW9cbiAgICAgICAgbmV4dF9lbGVtZW50LnNyYyA9IHRoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50X3NlY3Rpb25dLmdldF9zcmNfdXJsKCk7XG4gICAgICAgIG5leHRfZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgIC8vIHNldCBjYWxsYmFjayBmb3Igd2hlbiB2aWRlbyBoYXMgZW5kZWRcbiAgICAgICAgc3dpdGNoICh0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudF9zZWN0aW9uXS5nZXRfdHlwZSgpKSB7XG4gICAgICAgICAgICBjYXNlIHNlY3Rpb25fMS5TZWN0aW9uVHlwZS5TS0lQOlxuICAgICAgICAgICAgICAgIG5leHRfZWxlbWVudC5vbmVuZGVkID0gKF8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW1tZWRpYXRlbHkgZ28gdG8gbmV4dCBzZWN0aW9uIHdpdGhvdXQgdXNlciBpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlfc2VjdGlvbih0aGlzLmN1cnJlbnRfc2VjdGlvbiArIDEsIHRydWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlY3Rpb25fMS5TZWN0aW9uVHlwZS5MT09QOlxuICAgICAgICAgICAgICAgIG5leHRfZWxlbWVudC5vbmVuZGVkID0gKF8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzdGFydCBmcm9tIGJlZ2lubmluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWN0aW9uIGVuZHMgLT4gZG9uJ3Qgc2V0IHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZV92aWRlbygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlY3Rpb25fMS5TZWN0aW9uVHlwZS5DT01QTEVURV9MT09QOlxuICAgICAgICAgICAgICAgIG5leHRfZWxlbWVudC5vbmVuZGVkID0gKF8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBuZXh0IHNlY3Rpb24gaGFzIGNoYW5nZWQsIGdvIHRvIG5leHQgb25lXG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSByZXN0YXJ0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheV9zZWN0aW9uKHRoaXMubmV4dF9zZWN0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gU2VjdGlvblR5cGUuTk9STUFMXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcgPC0gd2FpdCBmb3IgdXNlciBpbnB1dFxuICAgICAgICAgICAgICAgIG5leHRfZWxlbWVudC5vbmVuZGVkID0gKF8pID0+IHsgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhgUGxheWluZyBzZWN0aW9uICcke3RoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50X3NlY3Rpb25dLmdldF9uYW1lKCl9J2ApO1xuICAgICAgICAvLyBoaWRlIG9sZCB2aWRlbyBvbmNlIG5ldyBvbmUgcGxheXNcbiAgICAgICAgbmV4dF9lbGVtZW50LnBsYXkoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIHBhdXNlIG9sZCB2aWRlbyB0byBub3QgY2FsbCBvbmVuZGVkIGNhbGxiYWNrIGFnYWluIHdoZW4gdGhhdCB2aWRlbyBlbmRzIGluIGJhY2tncm91bmRcbiAgICAgICAgICAgIGxhc3RfZWxlbWVudC5wYXVzZSgpO1xuICAgICAgICAgICAgbGFzdF9lbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVfdGltZWxpbmUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVfbGVnZW5kKCk7XG4gICAgICAgIHRoaXMudXBkYXRlX3NvdXJjZSgpO1xuICAgICAgICAvLyBldmVyeXRoaW5nIGRvbmUgLT4gc2VjdGlvbiBoYXMgY2hhbmdlZFxuICAgICAgICB0aGlzLnByZXZpb3VzX3NlY3Rpb24gPSB0aGlzLmN1cnJlbnRfc2VjdGlvbjtcbiAgICB9XG4gICAgLy8gc2tpcF9jb21wbGV0ZV9sb29wIGNhbiBiZSB1c2VkIGluIHRoZSB0aW1lbGluZSBvciBhcyBhIGZvcmNlZCBjb250aW51ZVxuICAgIHBsYXlfc2VjdGlvbihzZWN0aW9uLCBza2lwX2NvbXBsZXRlX2xvb3AgPSBmYWxzZSkge1xuICAgICAgICAvLyBvdXQgb2YgYm91bmRzIGNoZWNraW5nXG4gICAgICAgIGlmIChzZWN0aW9uIDwgMClcbiAgICAgICAgICAgIHNlY3Rpb24gPSAwO1xuICAgICAgICBlbHNlIGlmIChzZWN0aW9uID49IHRoaXMuc2VjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBza2lwIHRvIGVuZCBvZiBjdXJyZW50IHNlY3Rpb25cbiAgICAgICAgICAgIGxldCBjdXJyZW50X3ZpZGVvID0gdGhpcy5nZXRfY3VycmVudF92aWRlbygpO1xuICAgICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIGNocm9tZVxuICAgICAgICAgICAgY3VycmVudF92aWRlby5jdXJyZW50VGltZSA9IE1hdGgubWF4KDAsIGN1cnJlbnRfdmlkZW8uZHVyYXRpb24gLSAwLjEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGBTd2l0Y2hpbmcgdG8gc2VjdGlvbiAnJHt0aGlzLnNlY3Rpb25zW3NlY3Rpb25dLmdldF9uYW1lKCl9J2ApO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50X3NlY3Rpb24gIT0gLTEgJiZcbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50X3NlY3Rpb25dLmdldF90eXBlKCkgPT0gc2VjdGlvbl8xLlNlY3Rpb25UeXBlLkNPTVBMRVRFX0xPT1AgJiZcbiAgICAgICAgICAgICFza2lwX2NvbXBsZXRlX2xvb3ApIHtcbiAgICAgICAgICAgIC8vIGlmIGN1cnJlbnQgc2VjdGlvbiBpcyBjb21wbGV0ZSBsb29wLCB3YWl0IHVudGlsIGl0IGZpbmlzaGVzXG4gICAgICAgICAgICB0aGlzLm5leHRfc2VjdGlvbiA9IHNlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpbnN0YW50bHkgc3dpdGNoIHRoZSB2aWRlb1xuICAgICAgICAgICAgdGhpcy5uZXh0X3NlY3Rpb24gPSBzZWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3NlY3Rpb24gPSBzZWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5zZXRfdGltZV9zdGFtcCgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVfdmlkZW8oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwbGF5X25leHRfc2VjdGlvbigpIHtcbiAgICAgICAgdGhpcy5wbGF5X3NlY3Rpb24odGhpcy5jdXJyZW50X3NlY3Rpb24gKyAxLCBmYWxzZSk7XG4gICAgfVxuICAgIHBsYXlfbmV4dF9zZWN0aW9uX2ZvcmNlZCgpIHtcbiAgICAgICAgdGhpcy5wbGF5X3NlY3Rpb24odGhpcy5jdXJyZW50X3NlY3Rpb24gKyAxLCB0cnVlKTtcbiAgICB9XG4gICAgcmVzdGFydF9jdXJyZW50X3NlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucGxheV9zZWN0aW9uKHRoaXMuY3VycmVudF9zZWN0aW9uLCB0cnVlKTtcbiAgICB9XG4gICAgcGxheV9wcmV2aW91c19zZWN0aW9uKCkge1xuICAgICAgICAvLyByZXF1aXJlZCB0byBnZXQgYW4gYWNjdXJhdGUgZHVyYXRpb24gcmVhZG91dFxuICAgICAgICB0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudF9zZWN0aW9uXS5zdG9wX3RpbWVyKCk7XG4gICAgICAgIC8vIGVpdGhlciByZXN0YXJ0IG9yIGdvIGJhY2tcbiAgICAgICAgaWYgKHRoaXMuZ29fYmFja190aW1lIDwgMCB8fCB0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudF9zZWN0aW9uXS5nZXRfZHVyYXRpb24oKSA8IHRoaXMuZ29fYmFja190aW1lKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXlfcHJldmlvdXNfc2VjdGlvbl9mb3JjZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnJlc3RhcnRfY3VycmVudF9zZWN0aW9uKCk7XG4gICAgfVxuICAgIHBsYXlfcHJldmlvdXNfc2VjdGlvbl9mb3JjZWQoKSB7XG4gICAgICAgIC8vIGRvbid0IGZpbmlzaCBjb21wbGV0ZSBsb29wcyB3aGVuIGdvaW5nIGJhY2tcbiAgICAgICAgdGhpcy5wbGF5X3NlY3Rpb24odGhpcy5jdXJyZW50X3NlY3Rpb24gLSAxLCB0cnVlKTtcbiAgICB9XG4gICAgZ2V0X2N1cnJlbnRfc2VjdGlvbigpIHsgcmV0dXJuIHRoaXMuY3VycmVudF9zZWN0aW9uOyB9XG4gICAgZ2V0X2N1cnJlbnRfdmlkZW8oKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRfdmlkZW8gPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvMDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW8xO1xuICAgIH1cbiAgICAvLy8vLy8vLy8vLy8vXG4gICAgLy8gY2FjaGluZyAvL1xuICAgIC8vLy8vLy8vLy8vLy9cbiAgICAvLyBhc3luY2hyb25vdXMsIHJlY3Vyc2l2ZTsgZG93bmxvYWRzIGV2ZXJ5dGhpbmcgYWZ0ZXIgb2Zmc2V0IGluIGJhdGNoZXNcbiAgICBjYWNoZV9iYXRjaChvZmZzZXQsIG9uX2ZpbmlzaGVkKSB7XG4gICAgICAgIGxldCBmaW5pc2hlZCA9IG9mZnNldDtcbiAgICAgICAgLy8gY2FjaGUgb25lIHdob2xlIGJhdGNoXG4gICAgICAgIGZvciAobGV0IGkgPSBvZmZzZXQsIGxlbiA9IE1hdGgubWluKG9mZnNldCArIHRoaXMuY2FjaGVfYmF0Y2hfc2l6ZSwgdGhpcy5zZWN0aW9ucy5sZW5ndGgpOyBpIDwgbGVuOyArK2kpXG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25zW2ldLmNhY2hlKCgpID0+IHtcbiAgICAgICAgICAgICAgICArK2ZpbmlzaGVkO1xuICAgICAgICAgICAgICAgIC8vIGFsbCBmaW5pc2hlZFxuICAgICAgICAgICAgICAgIGlmIChmaW5pc2hlZCA9PSB0aGlzLnNlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQmF0Y2ggY2FjaGluZyBjb21wbGV0ZSB3aXRoIG9mZnNldCAke29mZnNldH1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYWNoaW5nIGNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICBvbl9maW5pc2hlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXh0IGJhdGNoXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmluaXNoZWQgPT0gb2Zmc2V0ICsgdGhpcy5jYWNoZV9iYXRjaF9zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBCYXRjaCBjYWNoaW5nIGNvbXBsZXRlIHdpdGggb2Zmc2V0ICR7b2Zmc2V0fWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlX2JhdGNoKGZpbmlzaGVkLCBvbl9maW5pc2hlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGFzeW5jaHJvbm91c1xuICAgIGNhY2hlKG9uX2ZpbmlzaGVkKSB7XG4gICAgICAgIHRoaXMuY2FjaGVfYmF0Y2goMCwgb25fZmluaXNoZWQpO1xuICAgIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gZnVsbHNjcmVlbiAvL1xuICAgIC8vLy8vLy8vLy8vLy8vLy9cbiAgICBlbnRlcl9mdWxsc2NyZWVuKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVudGVyaW5nIGZ1bGxzY3JlZW4uXCIpO1xuICAgICAgICAvLyBjb252ZXJzaW9uIHRvIGFueSByZXF1aXJlZCBiZWNhdXNlIFdlYktpdCBBUEkgbm90IGtub3duIHRvIFR5cGVTY3JpcHRcbiAgICAgICAgaWYgKHRoaXMudmlkZW9zX2Rpdi5yZXF1ZXN0RnVsbHNjcmVlbilcbiAgICAgICAgICAgIHRoaXMudmlkZW9zX2Rpdi5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAvLyBzYWZhcmlcbiAgICAgICAgZWxzZSBpZiAodGhpcy52aWRlb3NfZGl2LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKVxuICAgICAgICAgICAgdGhpcy52aWRlb3NfZGl2LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgfVxuICAgIGV4aXRfZnVsbHNjcmVlbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFeGl0aW5nIGZ1bGxzY3JlZW4uXCIpO1xuICAgICAgICBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pXG4gICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAvLyBzYWZhcmlcbiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4pXG4gICAgICAgICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgIH1cbiAgICBmdWxsc2NyZWVuX3N0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50ICE9IG51bGwgfHxcbiAgICAgICAgICAgIGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ICE9IG51bGw7XG4gICAgfVxuICAgIHRvZ2dsZV9mdWxsc2NyZWVuKCkge1xuICAgICAgICBpZiAodGhpcy5mdWxsc2NyZWVuX3N0YXR1cygpKVxuICAgICAgICAgICAgdGhpcy5leGl0X2Z1bGxzY3JlZW4oKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5lbnRlcl9mdWxsc2NyZWVuKCk7XG4gICAgfVxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gdXNlciBpbnRlcmZhY2UgLy9cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGF0dGFjaF90aW1lbGluZSgpIHtcbiAgICAgICAgZm9yIChsZXQgc2xpZGUgb2YgdGhpcy5zbGlkZXMpXG4gICAgICAgICAgICBzbGlkZS5hdHRhY2hfdGltZWxpbmVfY2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheV9zZWN0aW9uKHNsaWRlLmdldF9pZCgpLCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGVfdGltZWxpbmUoKSB7XG4gICAgICAgIGxldCBwcmV2aW91c19zbGlkZSA9IHRoaXMucHJldmlvdXNfc2VjdGlvbiA9PSAtMSA/IG51bGwgOiB0aGlzLnNlY3Rpb25zW3RoaXMucHJldmlvdXNfc2VjdGlvbl0uZ2V0X3BhcmVudF9zbGlkZSgpO1xuICAgICAgICBsZXQgY3VycmVudF9zbGlkZSA9IHRoaXMuc2VjdGlvbnNbdGhpcy5jdXJyZW50X3NlY3Rpb25dLmdldF9wYXJlbnRfc2xpZGUoKTtcbiAgICAgICAgaWYgKHByZXZpb3VzX3NsaWRlID09IG51bGwpXG4gICAgICAgICAgICBjdXJyZW50X3NsaWRlLmFkZF90aW1lbGluZV9zZWxlY3Rpb24oKTtcbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXNfc2xpZGUgIT0gY3VycmVudF9zbGlkZSkge1xuICAgICAgICAgICAgY3VycmVudF9zbGlkZS5hZGRfdGltZWxpbmVfc2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBwcmV2aW91c19zbGlkZS5yZW1vdmVfdGltZWxpbmVfc2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgd2hlbiBwcmV2aW91cyBhbmQgY3VycmVudCBzbGlkZSBhcmUgdGhlIHNhbWVcbiAgICB9XG4gICAgdXBkYXRlX2xlZ2VuZCgpIHtcbiAgICAgICAgLy8gcmVtb3ZlIG9sZCB0eXBlIGluIGxlZ2VuZCBhbmQgc2VsZWN0IGN1cnJlbnRcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXNfc2VjdGlvbiAhPSAtMSlcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zZWN0aW9uc1t0aGlzLnByZXZpb3VzX3NlY3Rpb25dLmdldF90eXBlKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHNlY3Rpb25fMS5TZWN0aW9uVHlwZS5OT1JNQUw6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9ybWFsX2xlZ2VuZC5jbGFzc0xpc3QucmVtb3ZlKFwidGFibGUtYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlY3Rpb25fMS5TZWN0aW9uVHlwZS5TS0lQOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNraXBfbGVnZW5kLmNsYXNzTGlzdC5yZW1vdmUoXCJ0YWJsZS1hY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc2VjdGlvbl8xLlNlY3Rpb25UeXBlLkxPT1A6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9vcF9sZWdlbmQuY2xhc3NMaXN0LnJlbW92ZShcInRhYmxlLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBzZWN0aW9uXzEuU2VjdGlvblR5cGUuQ09NUExFVEVfTE9PUDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZV9sb29wX2xlZ2VuZC5jbGFzc0xpc3QucmVtb3ZlKFwidGFibGUtYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLnNlY3Rpb25zW3RoaXMuY3VycmVudF9zZWN0aW9uXS5nZXRfdHlwZSgpKSB7XG4gICAgICAgICAgICBjYXNlIHNlY3Rpb25fMS5TZWN0aW9uVHlwZS5OT1JNQUw6XG4gICAgICAgICAgICAgICAgdGhpcy5ub3JtYWxfbGVnZW5kLmNsYXNzTGlzdC5hZGQoXCJ0YWJsZS1hY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlY3Rpb25fMS5TZWN0aW9uVHlwZS5TS0lQOlxuICAgICAgICAgICAgICAgIHRoaXMuc2tpcF9sZWdlbmQuY2xhc3NMaXN0LmFkZChcInRhYmxlLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc2VjdGlvbl8xLlNlY3Rpb25UeXBlLkxPT1A6XG4gICAgICAgICAgICAgICAgdGhpcy5sb29wX2xlZ2VuZC5jbGFzc0xpc3QuYWRkKFwidGFibGUtYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBzZWN0aW9uXzEuU2VjdGlvblR5cGUuQ09NUExFVEVfTE9PUDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlX2xvb3BfbGVnZW5kLmNsYXNzTGlzdC5hZGQoXCJ0YWJsZS1hY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdXBkYXRlIGljb24gb24gYnV0dG9uXG4gICAgc2V0X2J1dHRvbl9wbGF5KCkge1xuICAgICAgICB0aGlzLmJ1dHRvbl9zaG91bGRfcGF1c2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXVzZV9idXR0b24uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiYmktcGxheVwiPjwvaT4nO1xuICAgIH1cbiAgICBzZXRfYnV0dG9uX3BhdXNlKCkge1xuICAgICAgICB0aGlzLmJ1dHRvbl9zaG91bGRfcGF1c2UgPSB0cnVlO1xuICAgICAgICB0aGlzLnBhdXNlX2J1dHRvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJiaS1wYXVzZVwiPjwvaT4nO1xuICAgIH1cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTdG9wcGVkLlwiKTtcbiAgICAgICAgdGhpcy5nZXRfY3VycmVudF92aWRlbygpLnBhdXNlKCk7XG4gICAgICAgIHRoaXMuc2V0X2J1dHRvbl9wbGF5KCk7XG4gICAgfVxuICAgIHBsYXkoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRlZC5cIik7XG4gICAgICAgIHRoaXMuZ2V0X2N1cnJlbnRfdmlkZW8oKS5wbGF5KCk7XG4gICAgICAgIHRoaXMuc2V0X2J1dHRvbl9wYXVzZSgpO1xuICAgIH1cbiAgICB0b2dnbGVfcGF1c2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1dHRvbl9zaG91bGRfcGF1c2UpXG4gICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucGxheSgpO1xuICAgIH1cbiAgICBhdHRhY2hfYnV0dG9ucygpIHtcbiAgICAgICAgbGV0IHByZXZpb3VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmV2aW91cy1zZWN0aW9uXCIpO1xuICAgICAgICBsZXQgcmVzdGFydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdGFydC1zZWN0aW9uXCIpO1xuICAgICAgICBsZXQgbmV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV4dC1zZWN0aW9uXCIpO1xuICAgICAgICBsZXQgcGF1c2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhdXNlXCIpO1xuICAgICAgICBsZXQgZnVsbHNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnVsbHNjcmVlblwiKTtcbiAgICAgICAgbGV0IGNhY2hlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYWNoZVwiKTtcbiAgICAgICAgLy8gYWRkIGNhbGxiYWNrc1xuICAgICAgICBwcmV2aW91cy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5wbGF5X3ByZXZpb3VzX3NlY3Rpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHJlc3RhcnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMucmVzdGFydF9jdXJyZW50X3NlY3Rpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIG5leHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMucGxheV9uZXh0X3NlY3Rpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHBhdXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnRvZ2dsZV9wYXVzZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgZnVsbHNjcmVlbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5lbnRlcl9mdWxsc2NyZWVuLmJpbmQodGhpcykpO1xuICAgICAgICBjYWNoZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgKDAsIHV0aWxzXzEuc3Bpbl9idXR0b24pKGNhY2hlKTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhY2hlLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvc19kaXYuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5wbGF5X25leHRfc2VjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgLy8gY2FsbGVkIGFmdGVyIHNlY3Rpb24gY2hhbmdlZFxuICAgIC8vIHRvIGJlIG92ZXJ3cml0dGVuIGlmIHJlcXVpcmVkXG4gICAgdXBkYXRlX3NvdXJjZSgpIHsgfVxufVxuZXhwb3J0cy5QcmVzZW50YXRpb24gPSBQcmVzZW50YXRpb247XG47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./web_src/ts/presenter/presentation.ts\n");

/***/ }),

/***/ "./web_src/ts/presenter/section.ts":
/*!*****************************************!*\
  !*** ./web_src/ts/presenter/section.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Section = exports.Slide = exports.get_section_type = exports.SectionType = void 0;\nvar SectionType;\n(function (SectionType) {\n    SectionType[SectionType[\"NORMAL\"] = 0] = \"NORMAL\";\n    SectionType[SectionType[\"LOOP\"] = 1] = \"LOOP\";\n    SectionType[SectionType[\"SKIP\"] = 2] = \"SKIP\";\n    SectionType[SectionType[\"COMPLETE_LOOP\"] = 3] = \"COMPLETE_LOOP\";\n})(SectionType = exports.SectionType || (exports.SectionType = {}));\nfunction get_section_type(str) {\n    switch (str) {\n        case \"normal\": return SectionType.NORMAL;\n        case \"loop\": return SectionType.LOOP;\n        case \"skip\": return SectionType.SKIP;\n        case \"complete_loop\": return SectionType.COMPLETE_LOOP;\n        default:\n            console.error(`Unsupported section type '${str}'`);\n            return SectionType.NORMAL;\n    }\n}\nexports.get_section_type = get_section_type;\n// contains one section with 0 or more sub sections\nclass Slide {\n    constructor(slide_json, create_section) {\n        this.sections = [];\n        for (let section_json of slide_json.sections) {\n            this.sections.push(create_section(section_json, this));\n        }\n        this.id = this.sections[0].get_id();\n        this.timeline_element = document.getElementById(`timeline-element-${this.id}`);\n        this.timeline_indicator = document.getElementById(`timeline-indicator-${this.id}`);\n        this.timeline_time_stamp = document.getElementById(`timeline-time-stamp-${this.id}`);\n        console.log(`Parsed slide #${this.id} with ${this.sections.length} sections.`);\n    }\n    get_sections() { return this.sections; }\n    get_id() { return this.id; }\n    // sum of time spent in sections in milliseconds\n    // unstopped sections don't get counted\n    get_duration() {\n        let sum = 0;\n        for (let section of this.sections) {\n            if (section.has_stopped())\n                sum += section.get_duration();\n        }\n        return sum;\n    }\n    // in seconds rounded\n    get_sec_duration() {\n        return Math.round(this.get_duration() / 1000);\n    }\n    attach_timeline_click(callback) {\n        this.timeline_element.addEventListener(\"click\", callback);\n    }\n    add_timeline_selection() {\n        // update indicator\n        this.timeline_indicator.innerHTML = `<i class=\"timeline-indicators bi-circle-fill\" role=\"img\"></i>`;\n        // add border\n        this.timeline_element.classList.add(\"border-dark\");\n        // scroll\n        // TODO: sometimes doesn't work on Chrome\n        this.timeline_element.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\n    }\n    remove_timeline_selection() {\n        // update time stamp of previous section\n        this.timeline_time_stamp.innerText = `${this.get_sec_duration()} s`;\n        // update indicator\n        this.timeline_indicator.innerHTML = `<i class=\"timeline-indicators bi-check-circle\" role=\"img\"></i>`;\n        // remove border\n        this.timeline_element.classList.remove(\"border-dark\");\n    }\n}\nexports.Slide = Slide;\nclass Section {\n    constructor(section_json, parent_slide) {\n        // when section starts and ends\n        // -1 -> hasn't ended/started yet\n        this.start_time_stamp = -1;\n        this.end_time_stamp = -1;\n        this.type = get_section_type(section_json.type);\n        this.name = section_json.name;\n        this.id = section_json.in_project_id;\n        this.is_sub_section = section_json.is_sub_section;\n        this.parent_slide = parent_slide;\n        // custom Flask url\n        let section_urls = document.getElementsByClassName(\"section-urls\");\n        this.video = section_urls[this.id].dataset.video;\n        console.log(`Parsed section #'${this.id}'`);\n    }\n    cache(on_cached) {\n        let request = new XMLHttpRequest();\n        request.onload = () => {\n            if (request.status == 200 || request.status == 206) {\n                console.log(`Cached section '${this.name}'`);\n                on_cached();\n            }\n            else {\n                console.error(`Section '${this.name}' failed to be cached with status ${request.status}`);\n                // another attempt in 10 sec\n                window.setTimeout(() => {\n                    this.cache(on_cached);\n                }, 10000);\n            }\n        };\n        request.onerror = () => {\n            console.error(`Section '${this.name}' failed to be cached`);\n            // another attempt in 10 sec\n            window.setTimeout(() => {\n                this.cache(on_cached);\n            }, 10000);\n        };\n        request.open(\"GET\", this.video, true);\n        request.send();\n    }\n    has_started() {\n        return this.start_time_stamp != -1;\n    }\n    has_stopped() {\n        return this.end_time_stamp != -1;\n    }\n    start_timer() {\n        this.start_time_stamp = performance.now();\n        this.end_time_stamp = -1;\n    }\n    stop_timer() {\n        // prevent attempting to stop not started section\n        if (!this.has_stopped() && this.has_started())\n            this.end_time_stamp = performance.now();\n    }\n    // in milliseconds\n    get_duration() {\n        if (!this.has_stopped())\n            console.error(`Trying to get duration of section '${this.name}', which hasn't been stopped yet.`);\n        return this.end_time_stamp - this.start_time_stamp;\n    }\n    // in seconds rounded\n    get_sec_duration() {\n        return Math.round(this.get_duration() / 1000);\n    }\n    get_is_sub_section() { return this.is_sub_section; }\n    get_type() { return this.type; }\n    get_name() { return this.name; }\n    get_id() { return this.id; }\n    get_parent_slide() { return this.parent_slide; }\n}\nexports.Section = Section;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL3ByZXNlbnRlci9zZWN0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYW5pbV9lZGl0b3IvLi93ZWJfc3JjL3RzL3ByZXNlbnRlci9zZWN0aW9uLnRzP2ZjZjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlY3Rpb24gPSBleHBvcnRzLlNsaWRlID0gZXhwb3J0cy5nZXRfc2VjdGlvbl90eXBlID0gZXhwb3J0cy5TZWN0aW9uVHlwZSA9IHZvaWQgMDtcbnZhciBTZWN0aW9uVHlwZTtcbihmdW5jdGlvbiAoU2VjdGlvblR5cGUpIHtcbiAgICBTZWN0aW9uVHlwZVtTZWN0aW9uVHlwZVtcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgICBTZWN0aW9uVHlwZVtTZWN0aW9uVHlwZVtcIkxPT1BcIl0gPSAxXSA9IFwiTE9PUFwiO1xuICAgIFNlY3Rpb25UeXBlW1NlY3Rpb25UeXBlW1wiU0tJUFwiXSA9IDJdID0gXCJTS0lQXCI7XG4gICAgU2VjdGlvblR5cGVbU2VjdGlvblR5cGVbXCJDT01QTEVURV9MT09QXCJdID0gM10gPSBcIkNPTVBMRVRFX0xPT1BcIjtcbn0pKFNlY3Rpb25UeXBlID0gZXhwb3J0cy5TZWN0aW9uVHlwZSB8fCAoZXhwb3J0cy5TZWN0aW9uVHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBnZXRfc2VjdGlvbl90eXBlKHN0cikge1xuICAgIHN3aXRjaCAoc3RyKSB7XG4gICAgICAgIGNhc2UgXCJub3JtYWxcIjogcmV0dXJuIFNlY3Rpb25UeXBlLk5PUk1BTDtcbiAgICAgICAgY2FzZSBcImxvb3BcIjogcmV0dXJuIFNlY3Rpb25UeXBlLkxPT1A7XG4gICAgICAgIGNhc2UgXCJza2lwXCI6IHJldHVybiBTZWN0aW9uVHlwZS5TS0lQO1xuICAgICAgICBjYXNlIFwiY29tcGxldGVfbG9vcFwiOiByZXR1cm4gU2VjdGlvblR5cGUuQ09NUExFVEVfTE9PUDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuc3VwcG9ydGVkIHNlY3Rpb24gdHlwZSAnJHtzdHJ9J2ApO1xuICAgICAgICAgICAgcmV0dXJuIFNlY3Rpb25UeXBlLk5PUk1BTDtcbiAgICB9XG59XG5leHBvcnRzLmdldF9zZWN0aW9uX3R5cGUgPSBnZXRfc2VjdGlvbl90eXBlO1xuLy8gY29udGFpbnMgb25lIHNlY3Rpb24gd2l0aCAwIG9yIG1vcmUgc3ViIHNlY3Rpb25zXG5jbGFzcyBTbGlkZSB7XG4gICAgY29uc3RydWN0b3Ioc2xpZGVfanNvbiwgY3JlYXRlX3NlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5zZWN0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBzZWN0aW9uX2pzb24gb2Ygc2xpZGVfanNvbi5zZWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9ucy5wdXNoKGNyZWF0ZV9zZWN0aW9uKHNlY3Rpb25fanNvbiwgdGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLnNlY3Rpb25zWzBdLmdldF9pZCgpO1xuICAgICAgICB0aGlzLnRpbWVsaW5lX2VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdGltZWxpbmUtZWxlbWVudC0ke3RoaXMuaWR9YCk7XG4gICAgICAgIHRoaXMudGltZWxpbmVfaW5kaWNhdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRpbWVsaW5lLWluZGljYXRvci0ke3RoaXMuaWR9YCk7XG4gICAgICAgIHRoaXMudGltZWxpbmVfdGltZV9zdGFtcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0aW1lbGluZS10aW1lLXN0YW1wLSR7dGhpcy5pZH1gKTtcbiAgICAgICAgY29uc29sZS5sb2coYFBhcnNlZCBzbGlkZSAjJHt0aGlzLmlkfSB3aXRoICR7dGhpcy5zZWN0aW9ucy5sZW5ndGh9IHNlY3Rpb25zLmApO1xuICAgIH1cbiAgICBnZXRfc2VjdGlvbnMoKSB7IHJldHVybiB0aGlzLnNlY3Rpb25zOyB9XG4gICAgZ2V0X2lkKCkgeyByZXR1cm4gdGhpcy5pZDsgfVxuICAgIC8vIHN1bSBvZiB0aW1lIHNwZW50IGluIHNlY3Rpb25zIGluIG1pbGxpc2Vjb25kc1xuICAgIC8vIHVuc3RvcHBlZCBzZWN0aW9ucyBkb24ndCBnZXQgY291bnRlZFxuICAgIGdldF9kdXJhdGlvbigpIHtcbiAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgIGZvciAobGV0IHNlY3Rpb24gb2YgdGhpcy5zZWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKHNlY3Rpb24uaGFzX3N0b3BwZWQoKSlcbiAgICAgICAgICAgICAgICBzdW0gKz0gc2VjdGlvbi5nZXRfZHVyYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtO1xuICAgIH1cbiAgICAvLyBpbiBzZWNvbmRzIHJvdW5kZWRcbiAgICBnZXRfc2VjX2R1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmdldF9kdXJhdGlvbigpIC8gMTAwMCk7XG4gICAgfVxuICAgIGF0dGFjaF90aW1lbGluZV9jbGljayhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnRpbWVsaW5lX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgYWRkX3RpbWVsaW5lX3NlbGVjdGlvbigpIHtcbiAgICAgICAgLy8gdXBkYXRlIGluZGljYXRvclxuICAgICAgICB0aGlzLnRpbWVsaW5lX2luZGljYXRvci5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJ0aW1lbGluZS1pbmRpY2F0b3JzIGJpLWNpcmNsZS1maWxsXCIgcm9sZT1cImltZ1wiPjwvaT5gO1xuICAgICAgICAvLyBhZGQgYm9yZGVyXG4gICAgICAgIHRoaXMudGltZWxpbmVfZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYm9yZGVyLWRhcmtcIik7XG4gICAgICAgIC8vIHNjcm9sbFxuICAgICAgICAvLyBUT0RPOiBzb21ldGltZXMgZG9lc24ndCB3b3JrIG9uIENocm9tZVxuICAgICAgICB0aGlzLnRpbWVsaW5lX2VsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiwgYmxvY2s6IFwibmVhcmVzdFwiIH0pO1xuICAgIH1cbiAgICByZW1vdmVfdGltZWxpbmVfc2VsZWN0aW9uKCkge1xuICAgICAgICAvLyB1cGRhdGUgdGltZSBzdGFtcCBvZiBwcmV2aW91cyBzZWN0aW9uXG4gICAgICAgIHRoaXMudGltZWxpbmVfdGltZV9zdGFtcC5pbm5lclRleHQgPSBgJHt0aGlzLmdldF9zZWNfZHVyYXRpb24oKX0gc2A7XG4gICAgICAgIC8vIHVwZGF0ZSBpbmRpY2F0b3JcbiAgICAgICAgdGhpcy50aW1lbGluZV9pbmRpY2F0b3IuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwidGltZWxpbmUtaW5kaWNhdG9ycyBiaS1jaGVjay1jaXJjbGVcIiByb2xlPVwiaW1nXCI+PC9pPmA7XG4gICAgICAgIC8vIHJlbW92ZSBib3JkZXJcbiAgICAgICAgdGhpcy50aW1lbGluZV9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJib3JkZXItZGFya1wiKTtcbiAgICB9XG59XG5leHBvcnRzLlNsaWRlID0gU2xpZGU7XG5jbGFzcyBTZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihzZWN0aW9uX2pzb24sIHBhcmVudF9zbGlkZSkge1xuICAgICAgICAvLyB3aGVuIHNlY3Rpb24gc3RhcnRzIGFuZCBlbmRzXG4gICAgICAgIC8vIC0xIC0+IGhhc24ndCBlbmRlZC9zdGFydGVkIHlldFxuICAgICAgICB0aGlzLnN0YXJ0X3RpbWVfc3RhbXAgPSAtMTtcbiAgICAgICAgdGhpcy5lbmRfdGltZV9zdGFtcCA9IC0xO1xuICAgICAgICB0aGlzLnR5cGUgPSBnZXRfc2VjdGlvbl90eXBlKHNlY3Rpb25fanNvbi50eXBlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gc2VjdGlvbl9qc29uLm5hbWU7XG4gICAgICAgIHRoaXMuaWQgPSBzZWN0aW9uX2pzb24uaW5fcHJvamVjdF9pZDtcbiAgICAgICAgdGhpcy5pc19zdWJfc2VjdGlvbiA9IHNlY3Rpb25fanNvbi5pc19zdWJfc2VjdGlvbjtcbiAgICAgICAgdGhpcy5wYXJlbnRfc2xpZGUgPSBwYXJlbnRfc2xpZGU7XG4gICAgICAgIC8vIGN1c3RvbSBGbGFzayB1cmxcbiAgICAgICAgbGV0IHNlY3Rpb25fdXJscyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzZWN0aW9uLXVybHNcIik7XG4gICAgICAgIHRoaXMudmlkZW8gPSBzZWN0aW9uX3VybHNbdGhpcy5pZF0uZGF0YXNldC52aWRlbztcbiAgICAgICAgY29uc29sZS5sb2coYFBhcnNlZCBzZWN0aW9uICMnJHt0aGlzLmlkfSdgKTtcbiAgICB9XG4gICAgY2FjaGUob25fY2FjaGVkKSB7XG4gICAgICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHJlcXVlc3Qub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09IDIwMCB8fCByZXF1ZXN0LnN0YXR1cyA9PSAyMDYpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2FjaGVkIHNlY3Rpb24gJyR7dGhpcy5uYW1lfSdgKTtcbiAgICAgICAgICAgICAgICBvbl9jYWNoZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFNlY3Rpb24gJyR7dGhpcy5uYW1lfScgZmFpbGVkIHRvIGJlIGNhY2hlZCB3aXRoIHN0YXR1cyAke3JlcXVlc3Quc3RhdHVzfWApO1xuICAgICAgICAgICAgICAgIC8vIGFub3RoZXIgYXR0ZW1wdCBpbiAxMCBzZWNcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUob25fY2FjaGVkKTtcbiAgICAgICAgICAgICAgICB9LCAxMDAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFNlY3Rpb24gJyR7dGhpcy5uYW1lfScgZmFpbGVkIHRvIGJlIGNhY2hlZGApO1xuICAgICAgICAgICAgLy8gYW5vdGhlciBhdHRlbXB0IGluIDEwIHNlY1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUob25fY2FjaGVkKTtcbiAgICAgICAgICAgIH0sIDEwMDAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5vcGVuKFwiR0VUXCIsIHRoaXMudmlkZW8sIHRydWUpO1xuICAgICAgICByZXF1ZXN0LnNlbmQoKTtcbiAgICB9XG4gICAgaGFzX3N0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0X3RpbWVfc3RhbXAgIT0gLTE7XG4gICAgfVxuICAgIGhhc19zdG9wcGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRfdGltZV9zdGFtcCAhPSAtMTtcbiAgICB9XG4gICAgc3RhcnRfdGltZXIoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRfdGltZV9zdGFtcCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB0aGlzLmVuZF90aW1lX3N0YW1wID0gLTE7XG4gICAgfVxuICAgIHN0b3BfdGltZXIoKSB7XG4gICAgICAgIC8vIHByZXZlbnQgYXR0ZW1wdGluZyB0byBzdG9wIG5vdCBzdGFydGVkIHNlY3Rpb25cbiAgICAgICAgaWYgKCF0aGlzLmhhc19zdG9wcGVkKCkgJiYgdGhpcy5oYXNfc3RhcnRlZCgpKVxuICAgICAgICAgICAgdGhpcy5lbmRfdGltZV9zdGFtcCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgICAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICBnZXRfZHVyYXRpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNfc3RvcHBlZCgpKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVHJ5aW5nIHRvIGdldCBkdXJhdGlvbiBvZiBzZWN0aW9uICcke3RoaXMubmFtZX0nLCB3aGljaCBoYXNuJ3QgYmVlbiBzdG9wcGVkIHlldC5gKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kX3RpbWVfc3RhbXAgLSB0aGlzLnN0YXJ0X3RpbWVfc3RhbXA7XG4gICAgfVxuICAgIC8vIGluIHNlY29uZHMgcm91bmRlZFxuICAgIGdldF9zZWNfZHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMuZ2V0X2R1cmF0aW9uKCkgLyAxMDAwKTtcbiAgICB9XG4gICAgZ2V0X2lzX3N1Yl9zZWN0aW9uKCkgeyByZXR1cm4gdGhpcy5pc19zdWJfc2VjdGlvbjsgfVxuICAgIGdldF90eXBlKCkgeyByZXR1cm4gdGhpcy50eXBlOyB9XG4gICAgZ2V0X25hbWUoKSB7IHJldHVybiB0aGlzLm5hbWU7IH1cbiAgICBnZXRfaWQoKSB7IHJldHVybiB0aGlzLmlkOyB9XG4gICAgZ2V0X3BhcmVudF9zbGlkZSgpIHsgcmV0dXJuIHRoaXMucGFyZW50X3NsaWRlOyB9XG59XG5leHBvcnRzLlNlY3Rpb24gPSBTZWN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./web_src/ts/presenter/section.ts\n");

/***/ }),

/***/ "./web_src/ts/utils.ts":
/*!*****************************!*\
  !*** ./web_src/ts/utils.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.spin_button = exports.flash = exports.get_json = exports.send_json = void 0;\n// send json via POST and parse json response\n// optional onfailure callback\nfunction send_json(url, payload, onsuccess, onfailure = () => { }) {\n    let request = new XMLHttpRequest();\n    request.onload = () => {\n        if (request.status == 200)\n            onsuccess(JSON.parse(request.responseText));\n        else {\n            console.error(`Failed POST to '${url}' with status ${request.status}.`);\n            onfailure();\n        }\n    };\n    request.onerror = () => {\n        console.error(`Failed to POST to '${url}'.`);\n        onfailure();\n    };\n    request.open(\"POST\", url, true);\n    request.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n    request.send(JSON.stringify(payload));\n}\nexports.send_json = send_json;\n// download file and parse json\nfunction get_json(url, callback, onfailure = () => { }) {\n    let request = new XMLHttpRequest();\n    request.onload = () => {\n        if (request.status == 200)\n            callback(JSON.parse(request.responseText));\n        else {\n            console.error(`Failed to load json '${url}' with status ${request.status}`);\n            onfailure();\n        }\n    };\n    request.onerror = () => {\n        console.error(`Failed to load json '${url}'`);\n        onfailure();\n    };\n    request.open(\"GET\", url, true);\n    request.send();\n}\nexports.get_json = get_json;\n// front end implementation of flasks flash function\nfunction flash(message, category) {\n    let flashes = document.getElementById(\"flashes\");\n    let wrapper = document.createElement(\"div\");\n    flashes.appendChild(wrapper);\n    wrapper.innerHTML =\n        `<div class=\"alert alert-${category} alert-dismissible fade show mt-3\" role=\"alert\">\n            ${message}\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n         </div>`;\n}\nexports.flash = flash;\n// add loading spinner to button\n// deletes innerText of button -> can't be undone\nfunction spin_button(button) {\n    button.disabled = true;\n    button.innerText = \"\";\n    let spinner = document.createElement(\"div\");\n    button.appendChild(spinner);\n    spinner.innerHTML =\n        `<div>\n            <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            Loading...\n        </div>`;\n}\nexports.spin_button = spin_button;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL3V0aWxzLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21hbmltX2VkaXRvci8uL3dlYl9zcmMvdHMvdXRpbHMudHM/MTdhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3Bpbl9idXR0b24gPSBleHBvcnRzLmZsYXNoID0gZXhwb3J0cy5nZXRfanNvbiA9IGV4cG9ydHMuc2VuZF9qc29uID0gdm9pZCAwO1xuLy8gc2VuZCBqc29uIHZpYSBQT1NUIGFuZCBwYXJzZSBqc29uIHJlc3BvbnNlXG4vLyBvcHRpb25hbCBvbmZhaWx1cmUgY2FsbGJhY2tcbmZ1bmN0aW9uIHNlbmRfanNvbih1cmwsIHBheWxvYWQsIG9uc3VjY2Vzcywgb25mYWlsdXJlID0gKCkgPT4geyB9KSB7XG4gICAgbGV0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09IDIwMClcbiAgICAgICAgICAgIG9uc3VjY2VzcyhKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIFBPU1QgdG8gJyR7dXJsfScgd2l0aCBzdGF0dXMgJHtyZXF1ZXN0LnN0YXR1c30uYCk7XG4gICAgICAgICAgICBvbmZhaWx1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gUE9TVCB0byAnJHt1cmx9Jy5gKTtcbiAgICAgICAgb25mYWlsdXJlKCk7XG4gICAgfTtcbiAgICByZXF1ZXN0Lm9wZW4oXCJQT1NUXCIsIHVybCwgdHJ1ZSk7XG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04XCIpO1xuICAgIHJlcXVlc3Quc2VuZChKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7XG59XG5leHBvcnRzLnNlbmRfanNvbiA9IHNlbmRfanNvbjtcbi8vIGRvd25sb2FkIGZpbGUgYW5kIHBhcnNlIGpzb25cbmZ1bmN0aW9uIGdldF9qc29uKHVybCwgY2FsbGJhY2ssIG9uZmFpbHVyZSA9ICgpID0+IHsgfSkge1xuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PSAyMDApXG4gICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGxvYWQganNvbiAnJHt1cmx9JyB3aXRoIHN0YXR1cyAke3JlcXVlc3Quc3RhdHVzfWApO1xuICAgICAgICAgICAgb25mYWlsdXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGxvYWQganNvbiAnJHt1cmx9J2ApO1xuICAgICAgICBvbmZhaWx1cmUoKTtcbiAgICB9O1xuICAgIHJlcXVlc3Qub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xuICAgIHJlcXVlc3Quc2VuZCgpO1xufVxuZXhwb3J0cy5nZXRfanNvbiA9IGdldF9qc29uO1xuLy8gZnJvbnQgZW5kIGltcGxlbWVudGF0aW9uIG9mIGZsYXNrcyBmbGFzaCBmdW5jdGlvblxuZnVuY3Rpb24gZmxhc2gobWVzc2FnZSwgY2F0ZWdvcnkpIHtcbiAgICBsZXQgZmxhc2hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmxhc2hlc1wiKTtcbiAgICBsZXQgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZmxhc2hlcy5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcbiAgICB3cmFwcGVyLmlubmVySFRNTCA9XG4gICAgICAgIGA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtJHtjYXRlZ29yeX0gYWxlcnQtZGlzbWlzc2libGUgZmFkZSBzaG93IG10LTNcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICR7bWVzc2FnZX1cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuLWNsb3NlXCIgZGF0YS1icy1kaXNtaXNzPVwiYWxlcnRcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PmA7XG59XG5leHBvcnRzLmZsYXNoID0gZmxhc2g7XG4vLyBhZGQgbG9hZGluZyBzcGlubmVyIHRvIGJ1dHRvblxuLy8gZGVsZXRlcyBpbm5lclRleHQgb2YgYnV0dG9uIC0+IGNhbid0IGJlIHVuZG9uZVxuZnVuY3Rpb24gc3Bpbl9idXR0b24oYnV0dG9uKSB7XG4gICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidXR0b24uaW5uZXJUZXh0ID0gXCJcIjtcbiAgICBsZXQgc3Bpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYnV0dG9uLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgIHNwaW5uZXIuaW5uZXJIVE1MID1cbiAgICAgICAgYDxkaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNwaW5uZXItYm9yZGVyIHNwaW5uZXItYm9yZGVyLXNtXCIgcm9sZT1cInN0YXR1c1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIExvYWRpbmcuLi5cbiAgICAgICAgPC9kaXY+YDtcbn1cbmV4cG9ydHMuc3Bpbl9idXR0b24gPSBzcGluX2J1dHRvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./web_src/ts/utils.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./web_src/ts/edit_project.ts");
/******/ 	
/******/ })()
;